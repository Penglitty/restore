window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AD:[function(e,t,n){"use strict";cc._RF.push(t,"a05b3PmNOBBnpZ0VAx6T7sv","AD"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GxConstant"),i=e("./GxGame"),a=e("./BaseGxGame"),r=new(function(){function e(){this.isbaibao=!1}return e.prototype.showVideo=function(e){if(this.isbaibao)e&&e();else{i.default.Ad().showVideo(function(t){if(t){e&&e();try{i.default.gameEvent("video_end",{})}catch(n){}}});try{i.default.gameEvent("click_video",{})}catch(t){}}},e.prototype.showChaPing=function(e){if(!this.isbaibao){var t=this.getChannel();"oppo"!==t&&"vivo"!==t&&"rongyao"!==t&&"apk"!==t&&(o.default.IS_4399_H5_GAME?2===e&&i.default.Ad().showNativeInterstitial(function(){},function(){},0):i.default.Ad().showNativeInterstitial(function(){},function(){},0))}},e.prototype.showBanner=function(){if(!this.isbaibao&&!o.default.IS_KS_GAME){var e=this.getChannel();"oppo"!==e&&"vivo"!==e&&"rongyao"!==e&&"apk"!==e&&i.default.Ad().showBanner()}},e.prototype.hideBanner=function(){this.isbaibao||i.default.Ad().hideBanner()},e.prototype.showGridAd=function(){this.isbaibao},e.prototype.showCustomRight=function(){this.isbaibao||i.default.Ad().showCustomRight()},e.prototype.hideCustomRight=function(){this.isbaibao||i.default.Ad().hideCustomRight()},e.prototype.hideGridAd=function(){},e.prototype.share=function(e){this.isbaibao||a.default.shareGame(e)},e.prototype.GameAllCeLue=function(e){if(!this.isbaibao){var t=i.default.gGG("cl"+e,"0");if(String(t).includes("_"))for(var n=t.split("_"),o=0;o<n.length;o++)this.showAD(Number(n[o]));else this.showAD(Number(t))}},e.prototype.showAD=function(e){var t,n;if(!this.isbaibao)switch(e){case 1:i.default.Ad().showNativeInterstitial();break;case 2:i.default.Ad().showVideo(function(){});break;case 3:null===(t=window.ovad)||void 0===t||t.enterLv();break;case 4:null===(n=window.ovad)||void 0===n||n.showBox()}},e.prototype.getChannel=function(){return this.isbaibao?"":o.default.IS_TT_GAME?"tt":o.default.IS_WECHAT_GAME?"wx":o.default.IS_ANDROID_NATIVE||o.default.IS_ANDROID_H5?"apk":o.default.IS_VIVO_GAME?"vivo":o.default.IS_OPPO_GAME?"oppo":o.default.IS_MI_GAME?"mi":o.default.IS_KS_GAME?"ks":o.default.IS_4399_H5_GAME?"4399":o.default.IS_UC_GAME?"uc":"4399"},e.prototype.showVivoIcon=function(){i.default.Ad().showVivoIcon()},e.prototype.hideVivoIcon=function(){i.default.Ad().hideVivoIcon()},e}());window.AD=r,n.default=r,cc._RF.pop()},{"./BaseGxGame":"BaseGxGame","./GxConstant":"GxConstant","./GxGame":"GxGame"}],BaseAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"653cdYhzTZNWpJMQYik6yRy","BaseAdapter"),Object.defineProperty(n,"__esModule",{value:!0}),n.RECORDER_STATE=void 0;var o,i=e("./ResUtil"),a=e("./GxTimer"),r=e("./GxEnum"),s=e("./GxConstant"),c=e("./GxUtils"),l=e("./GxGame"),u=e("./GxLog"),d=e("./GxChecker"),p=e("./DataStorage");(function(e){e[e.NO=0]="NO",e[e.START=1]="START",e[e.STOP=2]="STOP",e[e.PAUSE=3]="PAUSE",e[e.RESUME=4]="RESUME"})(o=n.RECORDER_STATE||(n.RECORDER_STATE={}));var f=function(){function e(){this.authorizeView=null,this.privacyView=null,this.toastView=null,this.isInitAd=!1,this.bannerAd=null,this.videoAd=null,this.interAd=null,this.bannerNode=null,this.innerInter=null,this.nativeInter=null,this.nativeIcon=null,this.portalAd=null,this.blockAd=null,this.appBox=null,this._native_data_cache=[],this._native_custom_inter_cache=[],this._native_custom_banner_cache=[],this.isNeedShowBanner=!1,this.isGameCd=!1,this.addIconNode=null,this.interShowTime=0,this.bannerShowTime=0,this.gameRecorder=null,this.videoPath=null,this.gameRecorderState=o.NO,this.bannerTimer=null,this.nativeInterTimer=null,this.bannerDelayTimer=null,this.interIdx=1,this.cur_show_ad_index=0,this.companyView=null,this.icNum=-1,this.gameBoxNumListener=null,this.ismailiang=!1,this.waitSubIds=[],this.manifestInfo=null,this.canReward=!1,this.curVideoFlag=""}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.initAd=function(){},e.prototype.setManifestInfo=function(e){this.manifestInfo=e},e.prototype.showAuthorize=function(e,t){var n=this;i.default.loadPrefab("gx/prefab/authorize",function(o,i){if(o)t();else if(null==n.authorizeView||!cc.isValid(n.authorizeView.node,!0)){var a=cc.instantiate(i);l.default.uiGroup&&(a.group=l.default.uiGroup),n.authorizeView=a.getComponent("Gx_authorize"),n.authorizeView.show(e,t)}})},e.prototype.showPrivacy=function(e){var t=this;void 0===e&&(e="privacy"),i.default.loadPrefab("gx/prefab/privacy",function(n,o){if(null==t.privacyView||!cc.isValid(t.privacyView.node,!0)){var i=cc.instantiate(o);l.default.uiGroup&&(i.group=l.default.uiGroup),t.privacyView=i.getComponent("Gx_privacy"),t.privacyView.show(e)}})},e.prototype.showGameOverAD=function(){},e.prototype.canIn=function(){return!1},e.prototype.showBanner=function(){d.default.getInstance().check(d.default.MsgType.ad_banner_show)},e.prototype.hideBanner=function(){d.default.getInstance().check(d.default.MsgType.ad_banner_hide),this.bannerTimer&&this.bannerTimer.clear(),this.bannerDelayTimer&&this.bannerDelayTimer.clear(),this.bannerNode&&cc.isValid(this.bannerNode.node,!0)&&this.bannerNode.node.destroy(),this.bannerNode=null},e.prototype.showVideo=function(e,t,n,o){void 0===t&&(t=""),void 0===n&&(n=[]),void 0===o&&(o=0),d.default.getInstance().check(d.default.MsgType.ad_video,{flag:t}),e&&e(!0,1)},e.prototype._videoCallEvent=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),this.curVideoFlag=e,l.default.gameEvent("reward",{flag:this.curVideoFlag,adUnitId:t})},e.prototype._videoCompleteEvent=function(e){void 0===e&&(e=""),l.default.gameEvent("reward_complete",{flag:this.curVideoFlag,adUnitId:e+""})},e.prototype._videoErrorEvent=function(e,t,n,o){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),void 0===o&&(o=""),l.default.gameEvent("reward_error",{flag:this.curVideoFlag,reason:e+"",errCode:t+"",errMsg:n+"",adUnitId:o+""})},e.prototype._videoErrorUploadEvent=function(e,t,n,o){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),void 0===o&&(o=""),l.default.gameEvent("reward_error_upload",{flag:this.curVideoFlag,reason:e+"",errCode:t+"",errMsg:n+"",adUnitId:o+""})},e.prototype._videoCloseEvent=function(e){void 0===e&&(e=""),l.default.gameEvent("reward_close",{flag:this.curVideoFlag,adUnitId:e+""})},e.prototype._videoShowEvent=function(e){void 0===e&&(e=""),l.default.gameEvent("reward_show",{flag:this.curVideoFlag,adUnitId:e+""})},e.prototype.reportAdShow=function(e){if(e){e.ad&&e.ad.reportAdShow({adId:e.adId});for(var t=0,n=this._native_data_cache;t<n.length;t++){var o=n[t];if(o.adId===e.adId){o.state=r.ad_native_state.show;break}}}},e.prototype.reportAdClick=function(e){e&&(e.ad&&e.ad.reportAdClick({adId:e.adId}),this.remove_native_data(e))},e.prototype.getLocalNativeData=function(e){if(l.default.adConfig.useNative){if(l.default.adConfig.switchPool){for(var t=[],n=0,o=this._native_data_cache;n<o.length;n++){var i=o[n];i.type===e&&t.push(i)}return this.check_native_data_list_is_reprot(t)?t.length>0?t[c.default.randomInt(0,t.length-1)]:null:this.get_latest_native_data(t)}return this.cur_show_ad_index>=this._native_data_cache.length&&(this.cur_show_ad_index=0),this._native_data_cache[this.cur_show_ad_index++]}return e===r.ad_native_type.banner?this._native_custom_banner_cache&&this._native_custom_banner_cache.length>0?this._native_custom_banner_cache.shift():null:this._native_custom_inter_cache&&this._native_custom_inter_cache.length>0?this._native_custom_inter_cache.shift():null},e.prototype.showInterstitialNative=function(){},e.prototype.showInterstitial=function(){},e.prototype.hideInterstitialNative=function(){this.innerInter&&cc.isValid(this.innerInter.node,!0)&&this.innerInter.node.destroy(),this.innerInter=null},e.prototype.showNativeInterstitial=function(e,t,n){void 0===n&&(n=0),d.default.getInstance().check(d.default.MsgType.ad_inter,{})},e.prototype.showOtherNativeInterstitial=function(e,t,n){void 0===n&&(n=0),d.default.getInstance().check(d.default.MsgType.ad_otherInter,{})},e.prototype.hideNativeInterstitial=function(){this.nativeInter&&cc.isValid(this.nativeInter.node,!0)&&this.nativeInter.node.destroy(),this.nativeInter=null,this.nativeInterTimer&&(this.nativeInterTimer.clear(),this.nativeInterTimer=null)},e.prototype.showVivoIcon=function(){},e.prototype.hideVivoIcon=function(){},e.prototype.showNativeIcon=function(){},e.prototype.hideNativeIcon=function(){this.nativeIcon&&cc.isValid(this.nativeIcon.node,!0)&&this.nativeIcon.node.destroy(),this.nativeIcon=null},e.prototype.platformVersion=function(){return s.default.IS_OPPO_GAME?window.qg.getSystemInfoSync().platformVersion:s.default.IS_VIVO_GAME?window.qg.getSystemInfoSync().platformVersionCode:0},e.prototype.showAddDesktop=function(){},e.prototype.hasAddDesktop=function(){},e.prototype.addDesktop=function(e,t,n){void 0===n&&(n=!0)},e.prototype.addCommonUse=function(e,t,n){void 0===n&&(n=!0)},e.prototype.createToast=function(e){if(null==this.toastView||!cc.isValid(this.toastView.node,!0)){var t=cc.instantiate(c.default.getRes("gx/prefab/toast",cc.Prefab));l.default.uiGroup&&(t.group=l.default.uiGroup),t.group="UI",this.toastView=t.getComponent("Gx_toast")}this.toastView&&this.toastView.show&&this.toastView.show(e)},e.prototype.supportGameBox=function(){return s.default.IS_OPPO_GAME&&this.platformVersion()>=1076},e.prototype.showGamePortal=function(e,t,n,o,i){void 0===n&&(n=!0),void 0===o&&(o=""),void 0===i&&(i=300)},e.prototype.hideGamePortal=function(){},e.prototype.setClickInnerInterstitialBtn=function(e,t){this._setClickNative(r.ad_native_type.inter2,e,t)},e.prototype.setClickNativeBanner=function(e,t){this._setClickNative(r.ad_native_type.banner,e,t)},e.prototype.clickNativeInnerInterstitial=function(){this.isGameCd||this.innerInter&&cc.isValid(this.innerInter.node,!0)&&this.innerInter.report_click()},e.prototype.clickNative=function(){if(!this.isGameCd){var e=this.getLocalNativeData(r.ad_native_type.inter1);null==e&&(e=this.getLocalNativeData(r.ad_native_type.banner)),null==e&&(e=this.getLocalNativeData(r.ad_native_type.inter2)),null==e&&(e=this.getLocalNativeData(r.ad_native_type.native_icon)),e&&(this.reportAdShow(e),this.reportAdClick(e))}},e.prototype.recorderStart=function(){},e.prototype.recorderStop=function(e){e&&e(!1)},e.prototype.hasRecorderPath=function(){return null!=this.videoPath},e.prototype.shareRecorder=function(e,t){t&&t()},e.prototype.showRecorderLayer=function(){},e.prototype.login=function(e){e&&e(!0)},e.prototype.showQQAppBox=function(){},e.prototype.hideQQAppBox=function(){},e.prototype.showQQBlockAd=function(){},e.prototype.hideQQBlockAd=function(){},e.prototype.showCustomLeft=function(){},e.prototype.showCustomRight=function(){},e.prototype.hideCustomLeft=function(){},e.prototype.hideCustomRight=function(){},e.prototype.showCrazyPoint=function(e,t,n,o){if(void 0===o&&(o=!1),l.default.gGB("crazy")){var i=cc.instantiate(c.default.getRes("gx/prefab/crazypoint",cc.Prefab)),a=i.getComponent("Gx_crazypoint");i.parent=cc.director.getScene(),i.zIndex=cc.macro.MAX_ZINDEX-1,i.group="UI",a.show(e,t,n,o)}else t&&t()},e.prototype.showGameBox=function(e,t,n){var o=this;if(l.default.gGB("z1")){var i=c.default.getRes("gx/prefab/gameBox",cc.Prefab),a=cc.instantiate(i),r=a.getComponent("Gx_gameBox");a.parent=cc.director.getScene(),a.zIndex=cc.macro.MAX_ZINDEX-1,a.group="UI",r.show(e,t,function(e){n?n(e):o.gameBoxNumListener?o.gameBoxNumListener(e):(o.gameBoxNumListener||u.default.e("\u6ca1\u6709\u8bbe\u7f6e\u91d1\u5e01\u56de\u8c03 gameBoxNumListener"),n&&n(e))})}else t&&t()},e.prototype.setGameBoxNumCallback=function(e){this.gameBoxNumListener=e},e.prototype.showInterVideo=function(e,t){t&&t()},e.prototype.destroyInterVideo=function(){},e.prototype.showFeedAd=function(e,t){t&&t()},e.prototype.destroyFeedAd=function(){},e.prototype.getGameAge=function(){return"12"},e.prototype.openUrl=function(){},e.prototype.getDeviceId=function(){},e.prototype.backGameHall=function(){},e.prototype.getConfigUrl=function(){return"http://127.0.0.1:8080/config.json"},e.prototype.jumpGame=function(){},e.prototype.initBanner=function(){this.bannerTimer=new a.default},e.prototype.initNativeAd=function(){},e.prototype.get_time=function(){return window.cc?window.cc.sys.now():window.Laya?window.Laya.timer.currTimer:(new Date).getTime()},e.prototype.check_native_data_list_is_reprot=function(e){if(e.length>0)for(var t=0,n=e;t<n.length;t++)if(n[t].state===r.ad_native_state.need_show)return!1;return!0},e.prototype.get_latest_native_data=function(e){for(var t=[],n=0,o=e;n<o.length;n++){var i=o[n];if(i.state===r.ad_native_state.need_show)return i}return t.length>0?t[c.default.randomInt(0,t.length-1)]:e.length>0?e[c.default.randomInt(0,e.length-1)]:null},e.prototype.add_native_data=function(e){for(var t=0,n=this._native_data_cache;t<n.length;t++)if(n[t].adId===e.adId)return;e.state=r.ad_native_state.need_show,this._native_data_cache.push(e)},e.prototype.remove_native_data=function(e){for(var t=0;t<this._native_data_cache.length;t++)if(this._native_data_cache[t].adId===e.adId)return void this._native_data_cache.splice(t,1)},e.prototype.is_limit_native_length=function(e){for(var t=0,n=0,o=this._native_data_cache;n<o.length;n++){var i=o[n];i.type===e&&i.state!==r.ad_native_state.click&&t++}return t>=l.default.adConfig.nativeAdLimitCount},e.prototype._setClickNative=function(e,t,n){void 0===n&&(n=null)},e.prototype.LOG=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u.default.i.apply(u.default,e)},e.prototype.LOGE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u.default.e.apply(u.default,e)},e.prototype.LOGW=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u.default.w.apply(u.default,e)},e.prototype.shareMessageToFriend=function(e){e&&e(!0)},e.prototype.setOpenDataShareCallback=function(){},e.prototype.getSubIds=function(){return[]},e.prototype.submsg=function(e,t){t&&t(!1)},e.prototype.initSubmsg=function(){},e.prototype.rewardAdEnd=function(){},e.prototype.ttReport=function(){},e.prototype.onClickBtn=function(){},e.prototype.userFrom=function(e){e&&e(!1)},e.prototype.preShowVideo=function(e){e&&e(!1)},e.prototype.showPositionBanner=function(){},e.prototype.initJump=function(e,t,n){n&&n()},e.prototype.showPlayBtn=function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=100)},e.prototype.showPlayGames=function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=100)},e.prototype.saveData=function(e,t,n){p.default.setItem("_save_"+e,JSON.stringify({data:t})),n&&n(null)},e.prototype.getData=function(e,t){var n=p.default.getItem("_save_"+e,null);if(null!=n)try{var o=JSON.parse(n);t&&t(null,o.data)}catch(i){console.error(i),t&&t(i,null)}else t&&t(null,null)},e.prototype.encrypt=function(e,t,n,o){if(e.length<5||t.length<5)return null;for(var i=(new Date).valueOf(),a=JSON.stringify({data:o,key:n}),r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=[],c=0;c<32;c++){var l=Math.floor(Math.random()*r.length);s[c]=r.substring(l,l+1)}var u=s.join(""),d=Number(i%1e6).toString(16);u=d+u.substring(d.length);for(var p=0,f=0,h=[1,3,7,9,16,22];f<h.length;f++){var g=h[f];p+=u.charCodeAt(g)}var v=p%100+"";return{appId:e,openId:t,timestamp:i,sign:u.substring(0,u.length-v.length)+v,data:a}},e.prototype.requestNet=function(e){e.method||(e.method="GET"),e.timeout||(e.timeout=5e3),e.method=e.method.toUpperCase();var t={statusCode:200,data:{},errMsg:""},n=new XMLHttpRequest;if(n.open(e.method,e.url),e.header)for(var o in e.header)n.setRequestHeader(o,e.header[o]);return n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){t.statusCode=200;try{var o=JSON.parse(n.responseText);t.data=o}catch(i){t.data=n.responseText}e.successCallback(t)}else t.statusCode=n.status,t.errMsg="network error",e.failedCallback(t)},n.timeout=e.timeout,n.ontimeout=function(){t.errMsg="timeout",e.failedCallback(t)},n.send(e.data),n},e.prototype.canUseSideBar=function(e){e&&e(!1)},e.prototype.canUseSubscribeMessage=function(e){e&&e(!1)},e.prototype.canUseAddDesktop=function(e){e&&e(!1)},e.prototype.canUseGameClub=function(e){e&&e(!1)},e.prototype.canUseCustomerMessage=function(e){e&&e(!1)},e.prototype.canUseRewardMultiton=function(e){e&&e(!1,0)},e.prototype.canUseAddCommonUse=function(e){e&&e(!1)},e.prototype.isFromSideBar=function(e){e&&e(!1)},e.prototype.isFromDesktop=function(e){e&&e(!1)},e.prototype.reportFeedPush=function(e,t,n,o){o&&o()},e.prototype.needShowCdkey=function(e){e&&e(!1)},e.prototype.canShowCdkeyEntrance=function(e){e&&e(!1)},e.prototype.enterMainScene=function(){},e.prototype.checkCdkey=function(e,t,n){n&&n("\u975e\u6296\u97f3\u4e0d\u80fd\u7528")},e.prototype.canUseFollowAweme=function(e){e&&e(!1)},e.prototype.checkFollowAwemeState=function(e){e&&e(!0)},e.prototype.openAwemeUserProfile=function(e){e&&e({hasFollowed:!0})},e.prototype.submsgGameApi=function(e,t){t&&t(!1)},e.prototype.subsceneGameApi=function(e,t,n){n&&n(!0)},e.prototype.requestSubscribeMessage=function(e,t,n,o){void 0===o&&(o=!0),t&&t({})},e.prototype.canUseFeedSubscribe=function(){return!1},e.prototype.requestFeedSubscribe=function(e,t,n,o){o&&o()},e.prototype.checkFeedSubscribeStatus=function(e,t,n){n&&n({status:!0})},e.prototype.navigateToScene=function(e,t){t&&t({})},e.prototype.canShowSideBarReward=function(){return!1},e.prototype.setSideBarRewarded=function(){},e.prototype.checkIsFromSideBar=function(e){e&&e(!0)},e.prototype.isDouyinOrLite=function(){return!1},e.prototype.payOrder=function(e,t,n,o){void 0===o&&(o=null),o&&o({third_party_trade_no:"2323lllla"}),t&&t(!0,{orderData:{third_party_trade_no:"2323lllla",productId:e}})},e.prototype.getBuyPropList=function(e){e&&e([])},e.prototype.checkIsBuy=function(e,t){t&&t(0)},e.prototype.getSubsidy=function(e,t){t&&t(!0,.5*e)},e.prototype.uploadRankScore=function(e,t,n){n&&n()},e.prototype.inviteShare=function(e){e.success&&e.success()},e.prototype.getInviteNum=function(e,t){t&&t(0,0)},e.prototype.canUseSubmsg=function(e){e&&e(!1)},e.prototype.shareAppMessage=function(e){void 0===e&&(e={}),e.success&&e.success()},e.prototype.getSubsidyList=function(e){e&&e({hasSubsidy:!1,subsidyLevels:{}})},e.prototype.checkMsgText=function(e,t,n){void 0===t&&(t=1);for(var o=0;o<10;o++);Math.random()<.5?n&&n(!1):n&&n(!0)},e.instance=null,e}();n.default=f,cc._RF.pop()},{"./DataStorage":"DataStorage","./GxChecker":"GxChecker","./GxConstant":"GxConstant","./GxEnum":"GxEnum","./GxGame":"GxGame","./GxLog":"GxLog","./GxTimer":"GxTimer","./GxUtils":"GxUtils","./ResUtil":"ResUtil"}],BaseGxConstant:[function(e,t,n){"use strict";cc._RF.push(t,"b9bbelEK+5GH4MxMM6SRLvC","BaseGxConstant"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.IS_VIVO_GAME=!1,e.IS_OPPO_GAME=!1,e.IS_MI_GAME=!1,e.IS_IOS_NATIVE=!1,e.IS_IOS_H5=!1,e.IS_ANDROID_NATIVE=!1,e.IS_ANDROID_H5=!1,e.IS_WECHAT_GAME=!1,e.IS_QQ_GAME=!1,e.IS_TT_GAME=!1,e.IS_BAIDU_GAME=!1,e.IS_HUAWEI_GAME=!1,e.IS_UC_GAME=!1,e.IS_KS_GAME=!1,e.IS_4399_H5_GAME=!1,e.IS_4399_BOX_GAME=!1,e.IS_ZFB_GAME=!1,e.IS_MEIZU_GAME=!1,e.IS_ZYPP_GAME=!1,e.KEY_PRIVACY_AGREE="_GxPrivacyAgree_",e.IS_BILI_GAME=!1,e.IS_RONGYAO_Game=!1,e}();n.default=o,cc._RF.pop()},{}],BaseGxGame:[function(e,t,n){"use strict";cc._RF.push(t,"65c99yIEJ1HkIUzMNTjRHap","BaseGxGame"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GxConstant"),i=e("./GxAdParams"),a=e("./GxLog"),r=e("./ResUtil"),s=e("./GxChecker"),c=e("./BaseAdapter"),l=function(){function e(){}return e.initPlatform=function(e){var t=this;this.initPlatformEnd?e&&e():(this.initPlatformEnd=!0,cc.assetManager&&(cc.assetManager.downloader.maxConcurrency=10,cc.assetManager.downloader.maxRequestsPerFrame=6),e&&e(),window.onerror=function(e,n,o,i,a){var r;if(a instanceof TypeError){console.error(a.stack);var s=(null===(r=a.stack)||void 0===r?void 0:r.split("\n").slice(0,2).join("__"))||"";return t.gameEvent("code_error",{errorCode:s}),!0}return!1})},e.initGame=function(e){var t=this;this.initPlatform(function(){s.default.getInstance().check(s.default.MsgType.initSDK,{}),t.gameEvent("initGame"),r.default.loadResDir("gx/prefab",cc.Prefab).then(function(){}).catch(function(){}),e&&e()}),r.default.loadJsonAsset("gx/cfg/privacy",function(){})},e.setUIGroup=function(e){this.uiGroup=e},e.initH5Hall=function(){this.isH5Hall=!0},e.showPrivacyBtnWithParent=function(e,t){var n=this;if(void 0===t&&(t=null),this.needShowAuthorizeBtn()){if(!e||!e.isValid)return a.default.e("showPrivacyBtnWithParent parent is null or invalid"),void this.showPrivacyBtn();var o=function(){if(n.btnPrivacySp&&e&&e.isValid){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=n.btnPrivacySp,t.parent=e,t.on(cc.Node.EventType.TOUCH_END,function(){n.onClickPrivacyBtn()})}else a.default.e("\u9690\u79c1\u6309\u94ae\u663e\u793a\u5931\u8d25 sp null"),n.hideParentNode(e)};t&&t instanceof cc.SpriteFrame&&t.isValid&&(this.btnPrivacySp=t),this.btnPrivacySp?o():r.default.loadSprite("gx/texture/btn_yinsixieyi",function(e,t){e?a.default.e("\u9690\u79c1\u6309\u94ae\u663e\u793a\u5931\u8d25: "+e):t&&(n.btnPrivacySp=t,o())})}else this.hideParentNode(e)},e.showUserPrivacyBtnWithParent=function(e,t){var n=this;if(void 0===t&&(t=null),!o.default.IS_QQ_GAME)return a.default.e("userPrivacy only qq"),void this.hideParentNode(e);if(!e||!e.isValid)return a.default.e("showUserPrivacyBtnWithParent parent is null or invalid"),void this.showUserPrivacyBtn();var i=function(){if(n.btnUserSp&&e&&e.isValid){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=n.btnUserSp,t.parent=e,t.position=cc.v2(0,0),t.on(cc.Node.EventType.TOUCH_END,function(){n.onClickUserPrivacyBtn()})}else a.default.e("\u7528\u6237\u534f\u8bae\u6309\u94ae\u663e\u793a\u5931\u8d25 sp null"),n.hideParentNode(e)};t&&t instanceof cc.SpriteFrame&&t.isValid&&(this.btnUserSp=t),this.btnUserSp?i():r.default.loadSprite("gx/texture/btn_fuwuxieyi",function(e,t){e?a.default.e("\u7528\u6237\u534f\u8bae\u6309\u94ae\u663e\u793a\u5931\u8d25: "+e):t&&(n.btnUserSp=t,i())})},e.showGameAgeWithParent=function(e,t){var n=this;if(void 0===t&&(t=null),s.default.getInstance().check(s.default.MsgType.showGameAgeBtn,{}),!e||!e.isValid)return a.default.e("showGameAgeWithParent parent is null or invalid"),void this.showGameAge();var o=this.getGameAge();if(o>0){var i=function(){if(n.ageSp&&e&&e.isValid){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=n.ageSp,t.parent=e,t.position=cc.v2(0,0),t.on(cc.Node.EventType.TOUCH_END,function(){n.onClickBtn(3)})}else a.default.e("ageSp \u7a7a \u663e\u793a\u9002\u9f84\u5931\u8d25")};t&&t instanceof cc.SpriteFrame&&t.isValid&&(this.ageSp=t),this.ageSp?i():r.default.loadSprite("gx/texture/icon"+o,function(e,t){e?a.default.e("\u9002\u9f84\u663e\u793a\u5931\u8d25: "+e):t&&(n.ageSp=t,i())})}},e.showGameAge=function(){var e=this,t=this.getGameAge();if(t>0){var n=function(){if(e.ageSp){var t=cc.find("Canvas");if(!t)return void a.default.e("Canvas not found, cannot show age sprite");var n=new cc.Node;n.addComponent(cc.Sprite).spriteFrame=e.ageSp,n.parent=t;var o=cc.winSize;n.position=cc.v2(-(o.width/2-100),100),n.setContentSize(100,130),n.on(cc.Node.EventType.TOUCH_END,function(){e.onClickBtn(3)})}else a.default.e("ageSp \u7a7a \u663e\u793a\u9002\u9f84\u5931\u8d25")};this.ageSp?n():r.default.loadSprite("gx/texture/icon"+t,function(t,o){t?a.default.e("\u52a0\u8f7d\u5e74\u9f84\u56fe\u6807\u5931\u8d25: "+t):o&&(e.ageSp=o,n())})}},e.onClickPrivacyBtn=function(){this.Ad().showPrivacy("privacy")},e.onClickUserPrivacyBtn=function(){this.Ad().showPrivacy("user")},e.onClickBtn=function(){this.Ad().onClickBtn()},e.showPrivacyBtn=function(e){void 0===e&&(e=null)},e.showUserPrivacyBtn=function(e){void 0===e&&(e=null)},e.hideParentNode=function(e){try{e&&e.isValid&&(e.active=!1)}catch(t){}},e.Ad=function(){return this._adapter||(this._adapter=c.default.getInstance()),this._adapter},e.shareGame=function(e){a.default.i("\u5206\u4eab\u6e38\u620f"),e&&e(!0)},e.canShowShare=function(){return!1},e.gameEvent=function(e,t){if(void 0===t&&(t=null),s.default.getInstance().check(s.default.MsgType.event,{eventName:e,params:t}),window.TDAPP&&window.TDAPP.onEvent(e,"",t),window.ge)try{window.ge.track(e,t)}catch(n){}if(window.TDAnalytics)try{t=t||{},window.TDAnalytics.track({eventName:e,properties:t})}catch(n){}},e.gameEventLevelStart=function(e,t){void 0===t&&(t=null),s.default.getInstance().check(s.default.MsgType.lvStart,{stage:e,params:t});var n=e?e.toString():"";if(window.TDAPP&&window.TDAPP.onEvent("\u5173\u5361\u5f00\u59cb_TD","",{lvName:n}),window.ge)try{window.ge.track("levelStart",{lvName:n})}catch(o){}if(window.TDAnalytics)try{(t=t||{}).ta_lv=n,window.TDAnalytics.track({eventName:"ta_levelStart",properties:t})}catch(o){}},e.gameEventLevelEnd=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),s.default.getInstance().check(s.default.MsgType.lvEnd,{stage:e,isVictory:t});var o=e?e.toString():"";if(t){if(window.TDAPP&&window.TDAPP.onEvent("\u5173\u5361\u80dc\u5229_TD","",{lvName:o}),window.ge)try{window.ge.track("levelSuccess",{lvName:o})}catch(i){}if(window.TDAnalytics)try{(n=n||{}).ta_lv=o,window.TDAnalytics.track({eventName:"ta_levelSuccess",properties:n})}catch(i){}}else{if(window.TDAPP&&window.TDAPP.onEvent("\u5173\u5361\u5931\u8d25_TD","",{lvName:o}),window.ge)try{window.ge.track("levelFail",{lvName:o})}catch(i){}if(window.TDAnalytics)try{(n=n||{}).ta_lv=o,window.TDAnalytics.track({eventName:"ta_levelFail",properties:n})}catch(i){}}},e.getGameAge=function(){return i.default.age},e.needShowAuthorizeBtn=function(){return!1},e.gGB=function(){return!1},e.gGN=function(e,t){return void 0===t&&(t=0),t},e.gGG=function(e,t){return void 0===t&&(t="0"),t},e.canPlayWithRefuse=!1,e.scale=1,e.ageSp=null,e.btnPrivacySp=null,e.btnUserSp=null,e.btnH5HallSp=null,e.btnMoreGameSp=null,e.btnQQShareSp=null,e.btnAddSubmsgSp=null,e.btnAddDesktopSp=null,e.btnCancelAccountSp=null,e.screenWidth=0,e.initPlatformEnd=!1,e.btnTTBoxSp=null,e.havettreward=!1,e.btnCommonUseSp=null,e.screenHeight=0,e.userInfo={uid:"",openid:"",avatarUrl:"",nickName:""},e.isShenHe=!1,e.isH5Hall=!1,e.shareWord=["",""],e.sharePath="",e.recommedList=[],e.uiGroup="",e.enterMainCount=0,e.appId="",e.adConfig={canRefresh:!1,useNative:!1,bannerUpdateTime:-1,customUpdateTime:30,adCdTime:60,interTick:0,bannerTick:0,switchPool:!0,nativeAdLimitCount:5,showBanner:0},e._adapter=null,e.vcNum=-1,e.ovDesktopCount=0,e.ovDesktopLastTime=0,e.gameInfo={package:"",name:"",versionName:"",versionCode:""},e.canReportOcpx=!1,e.needjump=!1,e}();n.default=l,cc._RF.pop()},{"./BaseAdapter":"BaseAdapter","./GxAdParams":"GxAdParams","./GxChecker":"GxChecker","./GxConstant":"GxConstant","./GxLog":"GxLog","./ResUtil":"ResUtil"}],DataStorage:[function(e,t,n){"use strict";cc._RF.push(t,"313b2TnoFtCi5DomX8mO3yp","DataStorage"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getItem=function(e,t){if(void 0===t&&(t=null),!e)return null;var n=cc.sys.localStorage.getItem(e);return null!=n&&"null"!==n&&""!==n&&void 0!==n||(n=t),n},e.setItem=function(e,t){cc.sys.localStorage.setItem(e,t)},Object.defineProperty(e,"musicPlay",{get:function(){return this.getItem("MUSIC",!0)},set:function(e){this.setItem("MUSIC",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"soundPlay",{get:function(){return this.getItem("SOUND",!0)},set:function(e){this.setItem("SOUND",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deviceid",{get:function(){return this.getItem("DEVICEID","")},set:function(e){this.setItem("DEVICEID",e)},enumerable:!1,configurable:!0}),e}();n.default=o,cc._RF.pop()},{}],FrameAni:[function(e,t,n){"use strict";cc._RF.push(t,"6725dPL1P1IirktVbH8oxI9","FrameAni");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.FrameAni=void 0;var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._curFrame=0,t._maxFrame=0,t.frameRate=24,t.frames=[],t.sprite=null,t._isPlay=!1,t._updateScheduleId=null,t._frameStr="",t}var n;return i(t,e),n=t,Object.defineProperty(t.prototype,"frameStr",{get:function(){return this._frameStr},set:function(e){var t=this;e.endsWith("@")&&(e=e.slice(0,-1),this.frames.length=0,cc.resources.loadDir("img",cc.SpriteFrame,null,function(n,o){if(n)cc.error(n);else{var i=new RegExp("^"+e+"(\\d+)$");t.frames=[];for(var a=0,r=o;a<r.length;a++){var s=r[a],c=s.name.match(i);if(c){var l=Number(c[1]);t.frames[l-1]=s}}t._maxFrame=t.frames.length,cc.log("Loaded frames:",t.frames.length)}})),this._frameStr=e},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this._isPlay=!1,null!==this._updateScheduleId&&(this.unschedule(this._updateScheduleId),this._updateScheduleId=null)},t.prototype.updateFrame=function(){var e;if(this.frames&&this.frames.length>0){this._isPlay&&(this._curFrame++,this._curFrame>=this.frames.length&&(this._curFrame=0));var t=null!==(e=this.sprite)&&void 0!==e?e:this.node.getComponent(cc.Sprite);t&&(t.spriteFrame=this.frames[this._curFrame])}},t.prototype.start=function(e,t){var n=this;if(void 0===e&&(e=0),void 0===t&&(t=0),this.stop(),this._isPlay=!0,this._curFrame=t,this.frames&&0!==this.frames.length){this._maxFrame=this.frames.length,this.updateFrame();var o=1/this.frameRate,i=0;this._updateScheduleId=this.schedule(function(){n.updateFrame(),i++,e>0&&i>=e*n._maxFrame-t&&(n.stop(),n.complete())},o)}else cc.error("FrameAni: \u6ca1\u6709\u52a0\u8f7d\u4efb\u4f55\u5e27\u56fe\u7247")},t.prototype.isPlay=function(){return this._isPlay},t.prototype.complete=function(){this.node.emit(n.COMPLETE)},t.COMPLETE="aniComplete",a([c],t.prototype,"frameRate",void 0),a([c(cc.SpriteFrame)],t.prototype,"frames",void 0),a([c(cc.Sprite)],t.prototype,"sprite",void 0),a([c],t.prototype,"_frameStr",void 0),a([c],t.prototype,"frameStr",null),n=a([s,l(!1)],t)}(cc.Component);n.FrameAni=u,cc._RF.pop()},{}],GxAdParams:[function(e,t,n){"use strict";cc._RF.push(t,"d5a67gya0pOdruER9DO33Bd","GxAdParams"),Object.defineProperty(n,"__esModule",{value:!0}),n.AdParams=void 0,n.AdParams={channel:{},labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",gameName:"",heJiConfig:"",oppo:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",banner:"",native1:"",native2:"",native_banner:"",native_icon:"",video:"",native_custom1:"",native_custom2:"",native_custom_banner:"",gameBanner:"",gamePortal:"",gameDraw:"",bannerOnTop:!1,labelVersion:"",heJiConfig:"",havebox:!1,umAppKey:"",tdAppKey:"",gravityEngineAccessToken:"",packageName:""},mi:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",native1:"",native2:"",native_banner:"",native_icon:"",video:"",native_custom1:"",native_custom2:"",native_custom_banner:"",gameBanner:"",gamePortal:"",gameDraw:"",bannerOnTop:!1,labelVersion:"",heJiConfig:"",havebox:!1,umAppKey:"",tdAppKey:""},vivo:{gameName:"",labelName:"",adLabelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",custom1:"",custom2:"",custom_banner:"",native1:"",native2:"",video:"",native_icon:"",boxBanner:"",boxPortal:"",bannerOnTop:!0,labelVersion:"",havebox:!1,heJiConfig:"",tdAppKey:"",gravityEngineAccessToken:"",accountAppKey:"",accountAppSecret:"",packageName:""},wx:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",appId:"",video:"",banner:"",inter:"",inter_custom:"",custom_left:"",custom_right:"",labelVersion:"",subIds:[],heJiConfig:"",shareImgUrl:"",tdAppKey:"",gravityEngineAccessToken:"",app_key:"",app_version:""},qq:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",appId:"",video:"",box:"",inter:"",block:"",block2:"",banner:"",bannerOnTop:!1,gameEndShowCrazyPoint:!0,gameEndShowGameBox:!0,shareImgUrl:"",labelVersion:"2",countdowntime:5,sceneidtest:!1,subIds:[],heJiConfig:"",tdAppKey:""},ks:{gameName:"",appId:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",video:"",labelVersion:"",heJiConfig:"",tdAppKey:"",gravityEngineAccessToken:""},tt:{gameName:"",appId:"",ecpmConfigName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",video:"",labelVersion:"",umAppKey:"",shareTemplateId:"",heJiConfig:"",tdAppKey:"",gravityEngineAccessToken:"",subIds:[],subIdsLong:[]},hw:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",appId:"",inter:"",banner:"",custom_banner:"",video:"",native_icon:"",native_banner:"",native1:"",native2:"",bannerOnTop:!1,buildType:"debug",debug_inter:"",debug_banner:"",debug_custom_banner:"",debug_video:"",debug_native_icon:"",debug_native_banner:"",debug_native1:"",debug_native2:"",labelVersion:"",umAppKey:"",heJiConfig:"",tdAppKey:""},uc:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",video:"",labelVersion:"",tdAppKey:""},zfb:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",video:"",labelVersion:"",tdAppKey:""},bilibili:{gameName:"",appId:"",labelName:"",age:12,shareTemplateId:"",company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",video:"",labelVersion:"",tdAppKey:"",gravityEngineAccessToken:""},rongyao:{gameName:"",labelName:"",age:12,company:"",softCode:"",ysCompanyName:"",ysMail:"",ysAddress:"",inter:"",banner:"",video:""}},n.default=n.AdParams,cc._RF.pop()},{}],GxChecker:[function(e,t,n){"use strict";cc._RF.push(t,"84203sP9K5Kw5OBboOjae0v","GxChecker"),Object.defineProperty(n,"__esModule",{value:!0}),n.MsgType=void 0,n.MsgType={jkzg:"jkzg",initSDK:"initSDK",lvStart:"lvStart",lvEnd:"lvEnd",ad_video:"ad_video",ad_inter:"ad_inter",ad_otherInter:"ad_otherInter",ad_banner_show:"ad_banner_show",ad_banner_hide:"ad_banner_hide",event:"event",btn_event:"btn_event",showGameAgeBtn:"showGameAgeBtn",showGamePrivacy:"showGamePrivacy",showGamePrivacyBtn:"showGamePrivacyBtn",showUserPrivacyBtn:"showUserPrivacyBtn",showAddDesktopBtn:"showAddDesktopBtn",showMoreGameBtn:"showMoreGameBtn",showCancelAccountBtn:"showCancelAccountBtn",codeError:"codeError"};var o=function(){function e(){this.canSend=!1,this.addListener=!1,this.msgList=[],this.parentDomain=""}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.init=function(){},e.prototype.postMessageToParent=function(){},e.prototype.check=function(e,t){void 0===t&&(t={})},e._instance=null,e.MsgType=n.MsgType,e}();n.default=o,cc._RF.pop()},{}],GxConstant:[function(e,t,n){"use strict";cc._RF.push(t,"c09807+W4lEdIozxRzbjTHN","GxConstant");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.Code2SessionUrl=" wx.sjzgxwl.com/openid/code2Session/v2",t.SubmsgBaseUrl=" wx.sjzgxwl.com/submsg",t.DataServerUrl=" api.sjzgxwl.com",t.DataServerUrl11=" api.sjzgxwl.com",t.DataServerUrlDebug=" localhost:19802",t}(e("./BaseGxConstant").default);n.default=a,cc._RF.pop()},{"./BaseGxConstant":"BaseGxConstant"}],GxEnum:[function(e,t,n){"use strict";cc._RF.push(t,"ecd1eY/3PdMgqyYOhoHXKcv","GxEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventName=n.privacy_type=n.PLATFORM=n.ad_native_state=n.ad_native_type=void 0,function(e){e[e.banner=0]="banner",e[e.inter1=1]="inter1",e[e.inter2=2]="inter2",e[e.native_icon=3]="native_icon"}(n.ad_native_type||(n.ad_native_type={})),function(e){e[e.none=0]="none",e[e.need_show=1]="need_show",e[e.show=2]="show",e[e.click=3]="click"}(n.ad_native_state||(n.ad_native_state={})),function(e){e.MI="mi",e.OPPO="oppo",e.VIVO="vivo",e.G233="233",e.MMY="mmy",e.HUAWEI="huawei",e.G4399="4399"}(n.PLATFORM||(n.PLATFORM={})),function(e){e.user="user",e.privacy="privacy"}(n.privacy_type||(n.privacy_type={})),function(e){e.main="main",e.lvStart="lvStart",e.lvEnd="lvEnd",e.modeLvChoice="modeLvChoice"}(n.EventName||(n.EventName={})),cc._RF.pop()},{}],GxFirstScene:[function(e,t,n){"use strict";cc._RF.push(t,"48cb2e0SA5Eu7FgqF72YW6k","GxFirstScene");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("./GxGame"),u=e("./ResUtil"),d=e("./GxConstant"),p=e("./GxChecker"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jkTitle=null,t.jkContent=null,t.jkCompany=null,t.jkSoftCode=null,t.ageSp=null,t.gameSceneName="GameScene",t.canJumpToNext=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=this;p.default.getInstance().init();var t=cc.winSize,n=this.node.getComponent(cc.Canvas);t.width>t.height?(n.designResolution=cc.size(1280,720),n.fitHeight=!0):(n.designResolution=cc.size(720,1280),n.fitWidth=!0,n.fitHeight=!1),this.canJumpToNext=!0,this.jkTitle&&this.jkTitle.node&&(this.jkTitle.node.active=!1),this.jkContent&&this.jkContent.node&&(this.jkContent.node.active=!1),this.ageSp&&this.ageSp.node&&(this.ageSp.node.active=!1),p.default.getInstance().check(p.default.MsgType.jkzg,{}),l.default.initPlatform(function(){l.default.initGame(function(){var t=l.default.getJkShowTime();if(t>=1){e.ageSp&&e.ageSp.node&&(e.ageSp.node.active=!0);var n=l.default.getGameAge();n>0&&(u.default.loadSprite("gx/texture/icon"+n,function(t,n){!t&&n&&(e.ageSp&&cc.isValid(e.ageSp)&&(e.ageSp.spriteFrame=n),l.default.ageSp=n)}),u.default.loadSprite("gx/texture/btn_yinsixieyi",function(e,t){!e&&t&&(l.default.btnPrivacySp=t)}),u.default.loadSprite("gx/texture/btn_zhuomian",function(e,t){!e&&t&&(l.default.btnAddDesktopSp=t)}),u.default.loadSprite("gx/texture/btn_QQShare",function(e,t){!e&&t&&(l.default.btnQQShareSp=t)}),u.default.loadSprite("gx/texture/btn_TTBox",function(e,t){!e&&t&&(l.default.btnTTBoxSp=t)})),e.jkTitle&&e.jkTitle.node&&(e.jkTitle.node.active=!0),e.jkContent&&e.jkContent.node&&(e.jkContent.node.active=!0)}e.scheduleOnce(function(){p.default.getInstance().check(p.default.MsgType.showGamePrivacy),e.enterGame()},t)})})},t.prototype.start=function(){},t.prototype.enterGame=function(){var e=this;setTimeout(function(){l.default.Ad().initAd()},100),l.default.Ad().getDeviceId&&l.default.Ad().getDeviceId(),this.canJumpToNext&&(d.default.IS_HUAWEI_GAME||d.default.IS_MI_GAME?l.default.Ad().login(function(){e.jumpScene()}):(d.default.IS_IOS_NATIVE||d.default.IS_IOS_H5)&&window.gameAnti?window.gameAnti.init(this.node,function(){e.jumpScene()}):this.jumpScene())},t.prototype.jumpScene=function(){cc.director.loadScene(this.gameSceneName)},a([c(cc.Label)],t.prototype,"jkTitle",void 0),a([c(cc.Label)],t.prototype,"jkContent",void 0),a([c(cc.Label)],t.prototype,"jkCompany",void 0),a([c(cc.Label)],t.prototype,"jkSoftCode",void 0),a([c(cc.Sprite)],t.prototype,"ageSp",void 0),a([c],t.prototype,"gameSceneName",void 0),a([s],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./GxChecker":"GxChecker","./GxConstant":"GxConstant","./GxGame":"GxGame","./ResUtil":"ResUtil"}],GxGame:[function(e,t,n){"use strict";cc._RF.push(t,"b146auVIeRKMbR+WUCvYryh","GxGame");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseGxGame"),r=e("./GxConstant"),s=e("./DataStorage"),c=e("./GxAdParams"),l=e("./GxUtils"),u=e("./GxLog"),d=e("./ResUtil"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.needShowAuthorize=function(){return!!(r.default.IS_OPPO_GAME||r.default.IS_VIVO_GAME||r.default.IS_HUAWEI_GAME||r.default.IS_QQ_GAME||r.default.IS_MI_GAME||r.default.IS_RONGYAO_Game)&&!s.default.getItem(r.default.KEY_PRIVACY_AGREE)},t.needShowAuthorizeBtn=function(){return!!(r.default.IS_OPPO_GAME||r.default.IS_VIVO_GAME||r.default.IS_HUAWEI_GAME||r.default.IS_QQ_GAME||r.default.IS_ANDROID_NATIVE||r.default.IS_ANDROID_H5||r.default.IS_MI_GAME)},t.needCommonUseBtn=function(){return!!r.default.IS_KS_GAME},t.needAddDesktopBtn=function(){return!!(r.default.IS_OPPO_GAME||r.default.IS_VIVO_GAME||r.default.IS_BILI_GAME||r.default.IS_QQ_GAME||r.default.IS_KS_GAME||r.default.IS_TT_GAME)},t.needTTBoxBtn=function(e){void 0===e&&(e=null),r.default.IS_BILI_GAME?void 0!==window.bl?window.bl.checkScene({scene:"sidebar",success:function(t){e&&e(t.isExist)},fail:function(){e&&e(!1)}}):e&&e(!1):r.default.IS_TT_GAME?void 0!==window.tt&&window.tt.checkScene?e&&e(!0):e&&e(!1):r.default.IS_KS_GAME?this.Ad().canUseSideBar(function(t){e&&e(t)}):e&&e(!1)},t.getJkShowTime=function(){if(r.default.IS_KS_GAME&&void 0!==window.ks){var e=window.ks.getSystemInfoSync().host.env;return c.default.ks.appId.startsWith("kwai")||"kwaipro"===e||"snackvideo"===e||"kwaime"===e?.001:3}return r.default.IS_OPPO_GAME||r.default.IS_VIVO_GAME||r.default.IS_HUAWEI_GAME||r.default.IS_QQ_GAME||r.default.IS_BILI_GAME||r.default.IS_MI_GAME||r.default.IS_ZFB_GAME||r.default.IS_RONGYAO_Game?3:r.default.IS_TT_GAME?1:.001},t.getGameAge=function(){return r.default.IS_4399_H5_GAME||r.default.IS_WECHAT_GAME?-1:r.default.IS_ANDROID_NATIVE?parseInt(l.default.callMethod("getGameAge")):r.default.IS_ANDROID_H5?parseInt(this.Ad().getGameAge()):c.default.age},t.showSubMsg=function(){var e=this;if(r.default.IS_WECHAT_GAME||r.default.IS_QQ_GAME){var t=this.Ad().getSubIds();t&&t.length>0?this.Ad().waitSubIds&&this.Ad().waitSubIds.length>0?d.default.loadPrefab("gx/prefab/submsg",function(t,n){if(t)u.default.e("\u52a0\u8f7d\u8ba2\u9605\u9884\u5236\u4f53\u5931\u8d25 \u65e0\u6cd5\u663e\u793a\u8ba2\u9605");else{var o=cc.instantiate(n);e.uiGroup&&(o.group=e.uiGroup),o.getComponent("Gx_submsg").show()}}):u.default.w("\u672a\u8ba2\u9605id\u4e3a\u7a7a \u5df2\u7ecf\u5168\u90e8\u8ba2\u9605 \u4e0d\u663e\u793a\u8ba2\u9605"):u.default.w("\u8ba2\u9605id\u4e3a\u7a7a\u6216\u8005\u6ca1\u6709\u914d\u7f6e \u4e0d\u663e\u793a\u8ba2\u9605")}else u.default.w("\u975eqq \u5fae\u4fe1\u4e0d\u663e\u793a\u8ba2\u9605")},t.showShareFriend=function(e){var t=this;r.default.IS_WECHAT_GAME||r.default.IS_QQ_GAME?d.default.loadPrefab("gx/prefab/shareFriend",function(n,o){if(n)u.default.e("\u52a0\u8f7d\u5206\u4eab\u9884\u5236\u4f53\u5931\u8d25 \u65e0\u6cd5\u663e\u793a\u5206\u4eab");else{var i=cc.instantiate(o);t.uiGroup&&(i.group=t.uiGroup);var a=i.getComponent("Gx_shareFriend");a.show(),a.setShareCallback(e)}}):u.default.w("\u975eqq \u5fae\u4fe1\u4e0d\u663e\u793a\u5206\u4eab")},t.clickBtn=function(e,t){this.gameEvent(e),t&&t()},t.showRankFriend=function(e){var t=this;r.default.IS_WECHAT_GAME||r.default.IS_QQ_GAME?d.default.loadPrefab("gx/prefab/subopenRank",function(n,o){if(n)u.default.e("\u52a0\u8f7d\u6392\u884c\u9884\u5236\u4f53\u5931\u8d25 \u65e0\u6cd5\u663e\u793a\u5206\u4eab");else{var i=cc.instantiate(o);t.uiGroup&&(i.group=t.uiGroup);var a=i.getComponent("Gx_subOpenRank");a.show(),a.setShareCallback(e)}}):u.default.w("\u975eqq \u5fae\u4fe1\u4e0d\u663e\u793a\u5206\u4eab")},t.canShowUser=!1,t.LogoSp=null,t.canshowTTBoxBtn=!0,t}(a.default);n.default=p,cc._RF.pop()},{"./BaseGxGame":"BaseGxGame","./DataStorage":"DataStorage","./GxAdParams":"GxAdParams","./GxConstant":"GxConstant","./GxLog":"GxLog","./GxUtils":"GxUtils","./ResUtil":"ResUtil"}],GxLog:[function(e,t,n){"use strict";cc._RF.push(t,"28a74Y245VN/pXmKBX5j0qI","GxLog");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)o[i]=a[r];return o};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.setTag=function(e){this.tag=e||"gx_game"},e.setDebug=function(e){this.debug=void 0===e||e},e.i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.info.apply(console,o(["["+this.tag+"]"],e))},e.e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.error.apply(console,o(["["+this.tag+"]"],e))},e.l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.log.apply(console,o(["["+this.tag+"]"],e))},e.d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.debug.apply(console,o(["["+this.tag+"]"],e))},e.w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.warn.apply(console,o(["["+this.tag+"]"],e))},e.tag="gx_game",e.debug=!0,e}();n.default=i,cc._RF.pop()},{}],GxTimer:[function(e,t,n){"use strict";var o;cc._RF.push(t,"6dd21S1H5pOPrKrpldtsyUT","GxTimer"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.NO=0]="NO",e[e.START=1]="START",e[e.PAUSE=2]="PAUSE",e[e.RESUME=3]="RESUME",e[e.STOP=4]="STOP"}(o||(o={}));var i=function(){function e(){this._state=o.NO,this.timeoutHandler=null,this.remainTime=0,this.intervalTime=0,this.repeatCount=0,this.remainCount=0,this.callback=null,this.taskStartTime=0}return e.loop=function(t,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var i=new e;return i.run(t,n,o),i},e.once=function(t,n){void 0===n&&(n=0);var o=new e;return o.run(t,n,1),o},e.prototype.loop=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.run(e,t,n)},e.prototype.once=function(e,t){void 0===t&&(t=0),this.run(e,t,1)},e.prototype.run=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),t<0&&(t=0),n<0&&(n=0),this.intervalTime=t,this.remainTime=t,this.repeatCount=n,this.remainCount=n,this.callback=e,this.setTimeout()},e.prototype.setTimeout=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),null==e&&(e=this.callback),null==t&&(t=this.intervalTime),this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=null),this._state=o.START,this.taskStartTime=(new Date).getTime(),this.timeoutHandler=setTimeout(function(){e&&e(),(0===n.repeatCount||--n.remainCount>0)&&n.setTimeout()},t)},e.prototype.pause=function(){this._state===o.START&&(this._state=o.PAUSE,this.remainTime=Math.max(this.intervalTime-((new Date).getTime()-this.taskStartTime),0),this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=null))},e.prototype.resume=function(){this._state===o.PAUSE&&this.setTimeout(this.callback,this.remainTime)},e.prototype.stop=function(){this._state!==o.NO&&this._state!==o.STOP&&(this._state=o.STOP,this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=null),this.remainTime=0,this.intervalTime=0,this.repeatCount=0,this.remainCount=0,this.callback=null,this.taskStartTime=0)},e.prototype.clear=function(){this._state=o.NO,this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=null),this.remainTime=0,this.intervalTime=0,this.repeatCount=0,this.remainCount=0,this.callback=null,this.taskStartTime=0},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],GxUtils:[function(e,t,n){"use strict";cc._RF.push(t,"b2a17xiVY5A/6HMfCk6cYzy","GxUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GxConstant"),i=function(){function e(){}return e.randomInt=function(e,t){return Math.floor(this.random(e,t))},e.random=function(e,t){var n;return e=Number(e),t=Number(t),Number.isNaN(e)||Number.isNaN(t)?null:(e>t&&(e=(n=[t,e])[0],t=n[1]),Math.random()*(t-e+1)+e)},e.loadRemoteRes=function(e){return new Promise(function(t,n){cc.assetManager?cc.assetManager.loadRemote(e,function(e,o){if(e)return n(e);t(o)}):cc.loader.load(e,function(e,o){if(e)return n(e);t(o)})})},e.loadRes=function(e,t){return new Promise(function(n,o){cc.resources?t&&cc.js.isChildClassOf(t,cc.Asset)?cc.resources.load(e,t,function(e,t){if(e)return o(e);n(t)}):cc.resources.load(e,function(e,t){if(e)return o(e);n(t)}):t&&cc.js.isChildClassOf(t,cc.Asset)?cc.loader.loadRes(e,t,function(e,t){if(e)return o(e);n(t)}):cc.loader.loadRes(e,function(e,t){if(e)return o(e);n(t)})})},e.loadResDir=function(e,t){return new Promise(function(n,o){cc.resources?cc.resources.loadDir(e,t,function(t,i){if(t)return console.error("\u52a0\u8f7d\u5931\u8d25\uff1a"+e),o(t);n(i)}):cc.loader.loadResDir(e,t,function(t,i){if(t)return console.error("\u52a0\u8f7d\u5931\u8d25\uff1a"+e),o(t);n(i)})})},e.getRes=function(e,t){return cc.resources?cc.resources.get(e,t):cc.loader.getRes(e,t)},e.formatTime=function(e){var t=e%60;return("0"+Math.floor(e/60)).slice(-2)+":"+("0"+t).slice(-2)},e.getNetworkTime=function(){return new Promise(function(e){var t=new XMLHttpRequest;t.open("get","/"),t.send(null),t.onreadystatechange=function(){if(2===t.readyState){var n=t.getResponseHeader("Date");e(n),t.abort()}}})},e.getDay=function(e){var t=new Date(e),n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate();return Number(n+("0"+o).slice(-2)+("0"+i).slice(-2))},e.degreesToVectors=function(e){var t=cc.misc.degreesToRadians(e);return cc.v2(0,1).rotate(-t)},e.vectorsToDegress=function(e){if(e.equals(cc.Vec2.ZERO))return 0;var t=cc.v2(0,1),n=e.signAngle(t);return cc.misc.radiansToDegrees(n)},e.clone=function(e){if(e instanceof Array)return e.concat();if(e instanceof Function)return e;var t={};for(var n in e){var o=e[n];t[n]="object"==typeof o?this.clone(o):o}return t},e.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=cc.director.getScene();o&&o.emit(e,t[0],t[1],t[2],t[3],t[4])},e.once=function(e,t,n){var o=cc.director.getScene();o&&o.once(e,t,n)},e.on=function(e,t,n){var o=cc.director.getScene();o&&o.on(e,t,n)},e.off=function(e,t,n){var o=cc.director.getScene();o&&o.off(e,t,n)},e.targetOff=function(e){var t=cc.director.getScene();t&&t.targetOff(e)},e.newPrefab=function(e,t,n){var o=this,i="prefab/"+e,a=function(){var e=cc.instantiate(o.getRes(i,cc.Prefab));cc.isValid(t,!0)&&(e.parent=t),n&&n(e)};this.getRes(i,cc.Prefab)?a():this.loadRes(i,cc.Prefab).then(function(){a()})},e.isNumber=function(e){if("number"==typeof e)return!0;if("string"==typeof e){var t=e.replace(/\s+/g,"");return""!==t&&!isNaN(Number(t))&&/^\d+(\.\d+)?$/.test(t)}return!1},e.findNode=function(e,t){if(!e||"string"!=typeof e)return t&&t instanceof cc.Node?t:null;t&&t instanceof cc.Node||(t=cc.director.getScene());for(var n=t,o=0,i=e.split("/");o<i.length;o++){var a=i[o],r=n.getChildByName(a);if(!r)return null;n=r}return n},e.callMethod=function(e,t,n){void 0===t&&(t=null);var i=null,a=e.substring(0,1).toUpperCase()+e.substring(1);if(n&&(window["onGx"+a]=n),null!=t&&"string"!=typeof t&&(t=JSON.stringify(t)),o.default.IS_ANDROID_NATIVE){var r="("+(null==t?"":"Ljava/lang/String;")+")Ljava/lang/String;";console.log("[gx_game]callMethod method = "+e+" signature = "+r+" params = "+t),i=null==t||void 0===t?jsb.reflection.callStaticMethod("com/gxgame/helper/GxBridge",e,"()Ljava/lang/String;"):jsb.reflection.callStaticMethod("com/gxgame/helper/GxBridge",e,"(Ljava/lang/String;)Ljava/lang/String;",t)}else if(o.default.IS_ANDROID_H5)try{t=t||"",i=window.H5Bridge[e](t)}catch(s){}else o.default.IS_IOS_NATIVE&&(console.log("[gx_game]callMethod method = "+e+" params = "+t),i=null==t||void 0===t?jsb.reflection.callStaticMethod("GxBridge",e+":",""):jsb.reflection.callStaticMethod("GxBridge",e+":",t));return i},e.callMethodLabel=function(e,t){var n=null,i="getLabel".substring(0,1).toUpperCase()+"getLabel".substring(1);return o.default.IS_ANDROID_NATIVE?(t&&(window["onGx"+i]=t),n=jsb.reflection.callStaticMethod("com/gxgame/helper/GxBridge","getLabel","(Ljava/lang/String;)Z",e)):o.default.IS_ANDROID_H5?n=window.H5Bridge.getLabel(e):o.default.IS_IOS_NATIVE&&(n=jsb.reflection.callStaticMethod("GxBridge","getLabel:",e)),n},e.callMethodLabelValue=function(e,t,n){void 0===t&&(t=-1);var i=null,a="getValue".substring(0,1).toUpperCase()+"getValue".substring(1);return o.default.IS_ANDROID_NATIVE?(n&&(window["onGx"+a]=n),i=jsb.reflection.callStaticMethod("com/gxgame/helper/GxBridge","getValue","(Ljava/lang/String;I)I",e,t)):o.default.IS_ANDROID_H5?i=window.H5Bridge.getValue(e,t):o.default.IS_IOS_NATIVE&&(i=jsb.reflection.callStaticMethod("GxBridge","getValue:defaultValue:",e,t)),i},e.callMethodLabelValueStr=function(e,t,n){void 0===t&&(t="");var i=null,a="getSelfValueStr".substring(0,1).toUpperCase()+"getSelfValueStr".substring(1);return o.default.IS_ANDROID_NATIVE?(n&&(window["onGx"+a]=n),i=jsb.reflection.callStaticMethod("com/gxgame/helper/GxBridge","getSelfValueStr","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",e,t)):o.default.IS_ANDROID_H5?i=window.H5Bridge.getSelfValueStr(e,t):o.default.IS_IOS_NATIVE&&(i=jsb.reflection.callStaticMethod("GxBridge","getSelfValueStr:defaultValue:",e,t)),i},e.getNativePlatform=function(){return this.callMethod("getNativePlatform")},e.executePreFrame=function(e,t,n){return void 0===n&&(n=1),new Promise(function(o){var i=t,a=function(){for(var t=cc.sys.now();;){var r=i.next();if(null==r||r.done)return void o();if(cc.sys.now()-t>n)return void e.scheduleOnce(function(){a()})}};a()})},e}();n.default=i,cc._RF.pop()},{"./GxConstant":"GxConstant"}],Gx_toast:[function(e,t,n){"use strict";cc._RF.push(t,"4e2abN2DF9D859Ou7gocskS","Gx_toast");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.tips_box=null,t.tips_tween=null,t}return i(t,e),t.prototype.show=function(e){if(this.node&&!this.node.parent){var t=cc.macro.MAX_ZINDEX;this.node.parent=cc.director.getScene(),this.node.zIndex=t,this.on_show(e)}},t.prototype.on_hide=function(){},t.prototype.on_show=function(e){this.show_tips(e)},t.prototype.show_tips=function(e){var t=this;this.label.string=e,this.tips_tween=null,this.tips_tween=cc.moveBy(1.5,cc.v2(0,150)).easing(cc.easeSineIn());var n=cc.callFunc(function(){cc.isValid(t)&&t.hide()});this.tips_box.runAction(cc.sequence(this.tips_tween,n))},t.prototype.set_default_pos=function(){},t.prototype.set_style_pos=function(){},t.prototype.hide=function(){this.node&&this.node.parent&&(this.tips_box.y=0,this.node.parent.removeChild(this.node),this.on_hide())},a([c(cc.Label)],t.prototype,"label",void 0),a([c(cc.Node)],t.prototype,"tips_box",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],N_GameCfg:[function(e,t,n){"use strict";cc._RF.push(t,"4a62cGkvQRC6L1Q3qa7opFh","N_GameCfg");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fonts=[],t.subLizi=null,t.dangban=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n._ins=this},Object.defineProperty(t,"ins",{get:function(){return n._ins},enumerable:!1,configurable:!0}),t.prototype.gameEnd=function(){"undefined"!=typeof wx&&wx.notifyMiniProgramPlayableStatus({isEnd:!0})},t.prototype.getAllChildren=function(e){var t=[];return function e(n){t.push(n),n.children.forEach(function(t){return e(t)})}(e),t},t.prototype.getAllChildrenExcludingRoot=function(e){var t=[];return function e(n){n.children.forEach(function(n){t.push(n),e(n)})}(e),t},a([c([cc.Font])],t.prototype,"fonts",void 0),a([c(cc.Prefab)],t.prototype,"subLizi",void 0),a([c(cc.Prefab)],t.prototype,"dangban",void 0),n=a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ResUtil:[function(e,t,n){"use strict";cc._RF.push(t,"8ce57xWlx9O9qx/0in0C9p2","ResUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GxLog"),i=function(){function e(){}return e.loadPrefab=function(e,t){cc.resources?cc.resources.load(e,cc.Prefab,function(n,o){n&&console.error("[gx_game] "+e+" loadPrefab Failed",n),t&&t(n,o)}):cc.loader?cc.loader.loadRes(e,cc.Prefab,function(n,o){n&&console.error("[gx_game] "+e+" loadPrefab Failed",n),t&&t(n,o)}):t&&t(new Error("no loader"),null)},e.loadJsonAsset=function(e,t){cc.resources?cc.resources.load(e,cc.JsonAsset,function(n,o){n&&console.error("[gx_game] "+e+" loadJsonAsset Failed",n),t&&t(n,o)}):cc.loader?cc.loader.loadRes(e,cc.JsonAsset,function(n,o){n&&console.error("[gx_game] "+e+" loadJsonAsset Failed",n),t&&t(n,o)}):t&&t(new Error("no loader"),null)},e.loadSprite=function(e,t){if(cc.resources)cc.resources.load(e,cc.SpriteFrame,function(n,o){n?(console.warn("[gx_game] "+e+" loadSprite Failed:",n.message||n),t&&t(n,null)):t&&t(null,o)});else if(cc.loader)cc.loader.loadRes(e,cc.SpriteFrame,function(n,o){n?(console.warn("[gx_game] "+e+" loadSprite Failed:",n.message||n),t&&t(n,null)):t&&t(null,o)});else if(window.Laya){var n=window.Laya;n.loader.load("gameass/background.png",n.Handler.create(this,function(e){console.log("ok"),t&&t(null,e)}))}else t&&t("no loader",null)},e.loadResDir=function(e,t){return new Promise(function(n,i){cc.resources?cc.resources.loadDir(e,t,function(t,a){if(t)return o.default.e("\u52a0\u8f7d\u5931\u8d25",e),i(t);n(a)}):cc.loader.loadResDir(e,t,function(t,a){if(t)return o.default.e("\u52a0\u8f7d\u5931\u8d25",e),i(t);n(a)})})},e.loadRemoteSpiteFrame=function(e,t){if(!e.startsWith("http"))return o.default.w("\u52a0\u8f7d\u56fe\u7247\u5730\u5740\u4e0d\u5bf9\uff1a"+e),void t("\u52a0\u8f7d\u56fe\u7247\u5730\u5740\u4e0d\u5bf9",null);var n=e.toLowerCase(),i=n.endsWith(".jpg")||n.endsWith(".png")||n.endsWith(".gif");cc.assetManager?i?cc.assetManager.loadRemote(e,function(e,n){t(e,n?new cc.SpriteFrame(n):null)}):cc.assetManager.loadRemote(e,{ext:".png"},function(e,n){t(e,n?new cc.SpriteFrame(n):null)}):i?cc.loader.load(e,function(e,n){e&&console.log(e),t(e,n?new cc.SpriteFrame(n):null)}):cc.loader.load({url:e,type:"png"},function(e,n){e&&console.log(e),t(e,n?new cc.SpriteFrame(n):null)})},e}();n.default=i,cc._RF.pop()},{"./GxLog":"GxLog"}],SangShi_AudioMgr:[function(e,t,n){"use strict";cc._RF.push(t,"85a73Nuq2ZO8ZAhL1Sf9Qxl","SangShi_AudioMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../_script/GxConstant"),s=e("./SangShi_GameData"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=e.call(this)||this;if(t._audioSource=null,t._audioOneShotSource=null,!r.default.IS_RONGYAO_Game){var n=new cc.Node;n.name="__audioMgr__",cc.director.getScene().addChild(n),cc.game.addPersistRootNode(n),t._audioSource=n.addComponent(cc.AudioSource);var o=new cc.Node;o.name="__audioMgr2__",cc.director.getScene().addChild(o),cc.game.addPersistRootNode(o),t._audioOneShotSource=o.addComponent(cc.AudioSource)}return t}var n;return i(t,e),n=t,Object.defineProperty(t,"inst",{get:function(){return null==this._inst&&(this._inst=new n),this._inst},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioSource",{get:function(){return this._audioSource},enumerable:!1,configurable:!0}),t.prototype.playOneShot=function(e,t){if(void 0===t&&(t=1),!s.default||0!=s.default.musicType2)if(r.default.IS_RONGYAO_Game)e instanceof cc.AudioClip?cc.audioEngine.playEffect(e,!1):cc.resources.load("SangShi_res/"+e,cc.AudioClip,function(e,t){e?console.log(e):cc.audioEngine.playEffect(t,!1)});else{var n=new cc.Node;n.name="__audioMgr2__",cc.director.getScene().addChild(n);var o=n.addComponent(cc.AudioSource);e instanceof cc.AudioClip?(o.clip=e,o.play(),o.volume=t):cc.resources.load("SangShi_res/"+e,cc.AudioClip,function(e,n){e?console.log(e):(o.clip=n,o.play(),o.loop=!1,o.volume=t)}),setTimeout(function(){var e=cc.director.getScene().getChildByName("__audioMgr2__");e&&e.destroy()},5e3)}},t.prototype.stopOneShot=function(){s.default&&s.default.musicType2},t.prototype.play=function(e,t){var n=this;if(void 0===t&&(t=1),!s.default||0!=s.default.musicType1)return r.default.IS_RONGYAO_Game?(cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic(),void(e instanceof cc.AudioClip?cc.audioEngine.playMusic(e,!0):cc.resources.load("SangShi_res/"+e,cc.AudioClip,function(e,t){e?console.log(e):cc.audioEngine.playMusic(t,!0)}))):void(e instanceof cc.AudioClip?(this._audioSource.stop(),this._audioSource.clip=e,this._audioSource.play(),this.audioSource.volume=t):cc.resources.load("SangShi_res/"+e,cc.AudioClip,function(e,o){e?console.log(e):(n._audioSource.stop(),n._audioSource.clip=o,n._audioSource.play(),n._audioSource.loop=!0,n.audioSource.volume=t)}))},t.prototype.stop=function(){r.default.IS_RONGYAO_Game?cc.audioEngine.stopAll():this._audioSource.stop()},t.prototype.pause=function(){r.default.IS_RONGYAO_Game?cc.audioEngine.pauseAll():this._audioSource.pause()},t.prototype.resume=function(){r.default.IS_RONGYAO_Game?cc.audioEngine.resumeAll():this._audioSource.play()},t._inst=null,n=a([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../_script/GxConstant":void 0,"./SangShi_GameData":"SangShi_GameData"}],SangShi_BOSS:[function(e,t,n){"use strict";cc._RF.push(t,"2eb77vFq2VBU7qYqdXgjvaJ","SangShi_BOSS");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../_script/AD"),s=e("./SangShi_AudioMgr"),c=e("./SangShi_ObjectPool"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hpLabel=null,t._angle=0,t.gamejs=null,t.isdead=!1,t.HP=100,t.sortHp=0,t.isgj=!1,t.swContent=null,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}this.swContent=cc.find("Canvas/swContent")},t.prototype.start=function(){},t.prototype.show=function(e,t){this.HP=e,this.hpLabel.string=this.HP.toString(),this._angle=t},t.prototype.updatHp=function(e){void 0===e&&(e=1),this.isdead||(this.HP-=e,this.HP<=0&&this.deadFunc(),this.hpLabel.string=this.HP.toString())},t.prototype.deadFunc=function(){var e=this;if(!this.isdead){s.default.inst.playOneShot("sound/zb_s2"),this.gamejs&&(this.gamejs.gamejb+=100),this.HP=0,this.isdead=!0;var t=this.node.getChildByName("skeleton");t&&(t.active=!1);var n=this.node.getChildByName("HP");n&&(n.active=!1);var o=this.node.getChildByName("boss_sw");if(this.swContent&&c.default.getInstance().createSiwang(this.swContent,this.node.x,this.node.y,this.node.scaleX),o)if(r.default.isbaibao)o.active=!1;else{o.active=!0;var i=o.getComponent(sp.Skeleton);i&&i.setAnimation(0,"1",!1)}this.node.parent.getComponent(cc.BoxCollider)&&this.node.parent.removeComponent(cc.BoxCollider),setTimeout(function(){e.node.destroy(),e.gamejs&&(e.gamejs.isdelgw++,e.gamejs.isBossDead=!0,e.gamejs.win())},200)}},t.prototype.update=function(e){if(this.gamejs&&this.gamejs.gameEvent&&!this.isdead&&!this.isgj){if(this.node.y<0){if(this.gamejs.person){var t=this.gamejs.person.position,n=cc.misc.lerp(this.node.position.x,t.x,.5*e),o=cc.misc.lerp(this.node.position.y,t.y,.5*e);this.node.position=cc.v2(n,o)}}else{var i=-(this._angle-180)*Math.PI/180;this.node.x+=.8*Math.sin(i),this.node.y+=.8*Math.cos(i),this.node.scale=1+.00027777778*(640-this.node.y)}this.node.zIndex=-(this.node.y-640),this.node.y<-640&&(!this.isdead&&this.gamejs&&this.gamejs.fail(),this.node.destroy())}},a([d(cc.Label)],t.prototype,"hpLabel",void 0),a([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../_script/AD":void 0,"./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_Buff:[function(e,t,n){"use strict";cc._RF.push(t,"3be0c2zaFZM15q687xGpKfp","SangShi_Buff");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_GameData"),c=e("../../../_script/AD"),l=e("../../../_script/GxGame"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.addGsLabel=null,t.addJuliLabel=null,t.gslv=null,t.gjjllv=null,t.gsMax=null,t.gjjlMax=null,t.gamejs=null,t}return i(t,e),t.prototype.start=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}this.showInfo()},t.prototype.showInfo=function(){this.addGsLabel.string=(400*(s.default.gsLv-1)+100).toString(),this.addJuliLabel.string=(400*(s.default.gjjlLv-1)+100).toString(),50===s.default.gsLv?(this.gslv.string="\u6ee1\u7ea7",this.gsMax.active=!0):this.gslv.string="LV: "+s.default.gsLv,50===s.default.gjjlLv?(this.gjjllv.string="\u6ee1\u7ea7",this.gjjlMax.active=!0):this.gjjllv.string="LV: "+s.default.gjjlLv;var e=this.node.getChildByName("1");e&&(t=e.getChildByName("video"))&&(t.active=Number(s.default.jb)<Number(this.addGsLabel.string));var t,n=this.node.getChildByName("2");n&&(t=n.getChildByName("video"))&&(t.active=Number(s.default.jb)<Number(this.addJuliLabel.string))},t.prototype.addGS=function(e){var t=this;if(50!==s.default.gsLv){r.default.inst.playOneShot("sound/anniu"),r.default.inst.playOneShot("sound/UP");var n=function(){if(s.default.gsLv++,cc.sys.localStorage.setItem("gsLv",s.default.gsLv.toString()),s.default.waponBox.gs+=.08,cc.sys.localStorage.setItem("waponBox",JSON.stringify(s.default.waponBox)),t.gamejs&&t.gamejs.person&&t.gamejs.person.children.length>0){var e=t.gamejs.person.children[0].getComponent(sp.Skeleton);e&&(e.setAnimation(0,"shengji",!1),e.setCompleteListener(function(t){"shengji"===(t.animation?t.animation.name:"")&&e.setAnimation(0,"daiji",!0)}))}t.showInfo()},o=e.target.getChildByName("video");if(o&&o.active){try{l.default.gameEvent("click_video_gs",{})}catch(u){console.error(u)}c.default.showVideo(function(){n();try{l.default.gameEvent("click_video_gs_end",{})}catch(u){console.error(u)}})}else{s.default.jb-=Number(this.addGsLabel.string),cc.sys.localStorage.setItem("jb",s.default.jb.toString());var i=cc.find("Canvas/Main");if(i){var a=i.getComponent("SangShi_Main");a&&(a.jbnum.string=s.default.jb.toString())}n()}}},t.prototype.addGJJL=function(e){var t=this;if(50!==s.default.gjjlLv){r.default.inst.playOneShot("sound/anniu"),r.default.inst.playOneShot("sound/UP");var n=function(){if(s.default.gjjlLv++,cc.sys.localStorage.setItem("gjjlLv",s.default.gjjlLv.toString()),s.default.waponBox.gjjl+=5,cc.sys.localStorage.setItem("waponBox",JSON.stringify(s.default.waponBox)),t.gamejs&&t.gamejs.person&&t.gamejs.person.children.length>0){var e=t.gamejs.person.children[0].getComponent(sp.Skeleton);e&&(e.setAnimation(0,"shengji",!1),e.setCompleteListener(function(t){"shengji"===(t.animation?t.animation.name:"")&&e.setAnimation(0,"daiji",!0)}))}t.showInfo()},o=e.target.getChildByName("video");if(o&&o.active){c.default.showVideo(function(){n();try{l.default.gameEvent("click_video_gjjl_end",{})}catch(e){console.error(e)}});try{l.default.gameEvent("click_video_gjjl",{})}catch(u){console.error(u)}}else{s.default.jb-=Number(this.addJuliLabel.string),cc.sys.localStorage.setItem("jb",s.default.jb.toString());var i=cc.find("Canvas/Main");if(i){var a=i.getComponent("SangShi_Main");a&&(a.jbnum.string=s.default.jb.toString())}n()}}},a([p(cc.Label)],t.prototype,"addGsLabel",void 0),a([p(cc.Label)],t.prototype,"addJuliLabel",void 0),a([p(cc.Label)],t.prototype,"gslv",void 0),a([p(cc.Label)],t.prototype,"gjjllv",void 0),a([p(cc.Node)],t.prototype,"gsMax",void 0),a([p(cc.Node)],t.prototype,"gjjlMax",void 0),a([d],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../_script/AD":void 0,"../../../_script/GxGame":void 0,"./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_DaZhao:[function(e,t,n){"use strict";cc._RF.push(t,"2bde35leIFJTYv8EUSW97w+","SangShi_DaZhao");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.feiji=null,t.moguyun=null,t.daodan=null,t.num=0,t.zhadannum=1,t}return i(t,e),t.prototype.start=function(){var e=this;cc.tween(this.feiji).to(2,{position:cc.v2(0,1200)}).start(),this.scheduleOnce(function(){e.schedule(e.loadDaodan,.068)},1)},t.prototype.loadDaodan=function(){var e=this;if(this.num++,this.num>24)return this.unschedule(this.loadDaodan),void this.scheduleOnce(function(){var t=cc.find("Canvas");if(t){var n=t.getChildByName("Game");if(n){var o=n.getComponent("SangShi_Game");o&&(o.showDaZhao=!1)}}e.node.destroy()},.3);var t=this.daodan.getChildByName(this.num.toString());t&&(t.active=!0,cc.tween(t).to(.3,{position:cc.v2(t.x,t.y-150)}).call(function(){var n=e.moguyun.getChildByName(e.zhadannum.toString());n&&(n.active=!0,setTimeout(function(){e.clear(n.x,n.y)},600)),e.zhadannum++,e.zhadannum>=29&&(e.zhadannum=29),t.active=!1}).start())},t.prototype.clear=function(e,t){var n=cc.find("Canvas/gwContent");if(n)for(var o=n.children.length,i=0;i<o;i++){var a=n.children[i];if(a){var r=a.getComponent("SangShi_monster");if(r)r.isdead||"g1"!==a.name||(Math.abs(a.x-e)<260||Math.abs(a.y-t)<260)&&r.deadFunc();else{var s=a.getComponent("SangShi_monsterA");if(s)s.isdead||"jingying"!==a.name||(Math.abs(a.x-e)<260||Math.abs(a.y-t)<260)&&s.deadFunc();else{var c=a.getComponent("SangShi_BOSS");c&&(c.isdead||"boss"!==a.name||(Math.abs(a.x-e)<260||Math.abs(a.y-t)<260)&&c.deadFunc())}}}}},a([c(cc.Node)],t.prototype,"feiji",void 0),a([c(cc.Node)],t.prototype,"moguyun",void 0),a([c(cc.Node)],t.prototype,"daodan",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],SangShi_GameData:[function(e,t,n){"use strict";function o(e,t){try{if("undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage){var n=cc.sys.localStorage.getItem(e);if(null!=n)return"number"==typeof t?Number(n):JSON.parse(n)}}catch(o){console.warn("Failed to get localStorage item: "+e,o)}return t}cc._RF.push(t,"43d393J7D1OG7rxbLMGJi6v","SangShi_GameData"),Object.defineProperty(n,"__esModule",{value:!0});var i={gameRoot:null,showVideo:function(e){e&&e()},qiang:1,get level(){return 6},set level(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("level",e.toString())},get jb(){return o("jb",200)},set jb(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("jb",e.toString())},beingjb:0,levelObjArrange:null,musicType1:1,musicType2:1,musicType3:1,sginRewardArr:[100,1e3,800,1e3,1200,1500,2e3],get sginData(){return o("sginData",{sgintime:"",sginDay:0})},set sginData(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("sginData",JSON.stringify(e))},getDate:function(){var e=new Date;return e.getFullYear()+""+(e.getMonth()+1)+e.getDate()},get gsLv(){return o("gsLv",1)},set gsLv(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("gsLv",e.toString())},get gjjlLv(){return o("gjjlLv",1)},set gjjlLv(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("gjjlLv",e.toString())},linshi:{gs:0,gjjl:0,gjl:0},get waponBox(){return o("waponBox",{gs:5,gjjl:200,gjl:5})},set waponBox(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("waponBox",JSON.stringify(e))},get sginCJ(){return o("sginCJ",{sgintime:"",type:0})},set sginCJ(e){"undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage&&cc.sys.localStorage.setItem("sginCJ",JSON.stringify(e))},ksgev:!1,gwEnabledNumnber:0};n.default=i,cc._RF.pop()},{}],SangShi_Game:[function(e,t,n){"use strict";cc._RF.push(t,"ca4443f+whDnYPn9JMSshYr","SangShi_Game");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_ObjectPool"),c=e("./SangShi_GameData"),l=e("../../_script/AD"),u=e("../../_script/GxGame"),d=cc._decorator,p=d.ccclass,f=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.person=null,t.Camera=null,t.CameraAnchor=null,t.beingjb=null,t.Main=null,t.shichao=null,t.gameUI=null,t.gameEvent=!1,t.gwnum=0,t.radius=0,t.daiji=!0,t.gwboci=0,t.gwtype=1,t.gwmunNumer=0,t.isdelgw=0,t.jygw=0,t.bossgw=0,t.gamejb=0,t.gwContent=null,t.funcGw=null,t.gwTime=0,t.showDaZhao=!1,t.currentWaveCount=0,t.isWaveDelaying=!1,t.MONSTERS_PER_WAVE=120,t.WAVE_DELAY=1.5,t.currentMonsterType=1,t.isBossDead=!1,t}return i(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1,this.initializeGame()},t.prototype.initializeGame=function(){r.default.inst.play("sound/BGM1"),s.default.getInstance().init(),c.default.gameRoot=this},t.prototype.onEnable=function(){this.gwContent=cc.find("Canvas/gwContent")},t.prototype.start=function(){var e=this;this.daijifun(),this.schedule(function(){e.updateText()},1,cc.macro.REPEAT_FOREVER,.001)},t.prototype.startGame=function(){var e=this;console.log("[SangShi_Game] \u5f00\u59cb\u6e38\u620f\u88ab\u8c03\u7528"),r.default.inst.playOneShot("sound/anniu"),this.initlevel(function(){e.gameEvent=!0,e.node.on(cc.Node.EventType.TOUCH_START,function(){e.person.children.length<10?e.radius=50:e.person.children.length<30?e.radius=100:e.person.children.length<80&&(e.radius=150)},e.node),e.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var n=t.touch.getDelta();if(Math.abs(e.person.x+n.x)>450-e.radius?(e.person.x<=-(450-e.radius)&&(e.person.x=-(450-e.radius)),e.person.x>=450-e.radius&&(e.person.x=450-e.radius)):e.person.x+=n.x,n.x>0){for(var o=0;o<e.person.children.length;o++)if(null!=(i=e.person.children[o].getComponent("SangShi_LoadBullet"))){if(i.isdead)continue;(a=e.person.children[o].getComponent(sp.Skeleton))&&"pao_you"!==a.animation&&a.setAnimation(0,"pao_you",!0)}}else if(n.x<0){for(o=0;o<e.person.children.length;o++)if(null!=(i=e.person.children[o].getComponent("SangShi_LoadBullet"))){if(i.isdead)continue;(a=e.person.children[o].getComponent(sp.Skeleton))&&"pao_zuo"!==a.animation&&a.setAnimation(0,"pao_zuo",!0)}}else for(o=0;o<e.person.children.length;o++){var i;if(null!=(i=e.person.children[o].getComponent("SangShi_LoadBullet"))){if(i.isdead)continue;var a;(a=e.person.children[o].getComponent(sp.Skeleton))&&"attack"!==a.animation&&a.setAnimation(0,"attack",!0)}}e.setpositon()},e.node),e.node.on(cc.Node.EventType.TOUCH_END,function(){for(var t=0;t<e.person.children.length;t++){var n=e.person.children[t].getComponent("SangShi_LoadBullet");if(null!=n){if(n.isdead)continue;var o=e.person.children[t].getComponent(sp.Skeleton);o&&o.setAnimation(0,"attack",!0)}}},e.node),e.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){for(var t=0;t<e.person.children.length;t++){var n=e.person.children[t].getComponent("SangShi_LoadBullet");if(null!=n){if(n.isdead)continue;var o=e.person.children[t].getComponent(sp.Skeleton);o&&o.setAnimation(0,"attack",!0)}}},e.node),e.daiji=!1,cc.find("Canvas/gwContent").removeAllChildren(),e.person.removeAllChildren(),e.loadLevelData();var t=e.person.getComponent("SangShi_Person");t&&t.startGame(),e.Main&&(e.Main.active=!1)}),this.gameUI&&(this.gameUI.active=!0);var t=this.gameUI.getChildByName("level");if(t){var n=t.getComponent(cc.Label);n&&(n.string="\u5173\u5361 "+c.default.level)}l.default.GameAllCeLue(2),l.default.hideCustomRight()},t.prototype.setpositon=function(){var e=this,t=function(){var t=e.person.x;if(n-t==0)for(var o=0;o<e.person.children.length;o++){var i=e.person.children[o].getComponent("SangShi_LoadBullet");if(null!=i){if(i.isdead)continue;var a=e.person.children[o].getComponent(sp.Skeleton);a&&"attack"!==a.animation&&a.setAnimation(0,"attack",!0)}}},n=this.person.x;this.unschedule(t),this.scheduleOnce(t,.2)},t.prototype.stopFunc=function(){r.default.inst.playOneShot("sound/anniu"),cc.resources.load("SangShi_res/PreFab/UI/settingUI",cc.Prefab,function(e,t){if(e)console.log("settingUI load err",e);else{var n=cc.instantiate(t);n.parent=cc.find("Canvas"),n.setPosition(0,0);var o=n.getComponent("SangShi_Setting");o&&o.show("stop")}})},t.prototype.loadLevelData=function(){var e=this;this.scheduleOnce(function(){e.monsterLoadFunc()},c.default.levelObjArrange.time1),this.scheduleOnce(function(){e.attributeLoadFunc()},c.default.levelObjArrange.time2)},t.prototype.initlevel=function(e){var t=this;cc.resources.load("SangShi_res/level",cc.JsonAsset,function(n,o){if(n)console.error(n);else{if(c.default.level>6){c.default.levelObjArrange=JSON.parse(JSON.stringify(o.json[5])),c.default.levelObjArrange.gw[0].gwNumber=500+500*(c.default.level-6),c.default.levelObjArrange.gw[0].eachNumer=8+Math.floor(c.default.level/50),c.default.levelObjArrange.gw[0].nextTime=.7,c.default.levelObjArrange.gw[0].jingying=c.default.levelObjArrange.gw[0].gwNumber/100,c.default.levelObjArrange.gw[0].jyHP=[],c.default.levelObjArrange.gw[0].loadJingying=[];for(var i=0;i<c.default.levelObjArrange.gw[0].jingying;i++)c.default.levelObjArrange.gw[0].jyHP.push(100+50*i),c.default.levelObjArrange.gw[0].loadJingying.push(100+100*i);for(c.default.levelObjArrange.gw[0].boss=c.default.levelObjArrange.gw[0].gwNumber/500,c.default.levelObjArrange.gw[0].bossHP=[],c.default.levelObjArrange.gw[0].loadBOSS=[],i=0;i<c.default.levelObjArrange.gw[0].boss;i++)c.default.levelObjArrange.gw[0].bossHP.push(500+300*i),c.default.levelObjArrange.gw[0].loadJingying.push(500+500*i)}else c.default.levelObjArrange=JSON.parse(JSON.stringify(o.json[c.default.level-1]));t.gwboci=0,t.jygw=0,t.bossgw=0,t.gamejb=0,t.gwnum=0,t.isdelgw=0,c.default.linshi.gs=0,c.default.linshi.gjjl=0,c.default.linshi.gjl=0,c.default.qiang=0,c.default.qiang=1,c.default.gwEnabledNumnber=0,t.gwtype=c.default.levelObjArrange.gw[t.gwboci].gwType,t.gwmunNumer=c.default.levelObjArrange.gw[t.gwboci].gwNumber+c.default.levelObjArrange.gw[t.gwboci].jingying+c.default.levelObjArrange.gw[t.gwboci].boss,t.isBossDead=!1,e&&e()}})},t.prototype.monsterLoadFunc=function(){var e=this,t=c.default.levelObjArrange.gw[this.gwboci].eachNumer,n=c.default.levelObjArrange.gw[this.gwboci].gwNumber,o=c.default.levelObjArrange.gw[this.gwboci].jingying,i=c.default.levelObjArrange.gw[this.gwboci].loadJingying,a=c.default.levelObjArrange.gw[this.gwboci].jyHP,r=c.default.levelObjArrange.gw[this.gwboci].boss,l=(c.default.levelObjArrange.gw[this.gwboci].loadBOSS,c.default.levelObjArrange.gw[this.gwboci].bossHP);this.currentWaveCount=0,this.currentMonsterType=1,this.funcGw=function(){if(e.gameEvent&&!e.isWaveDelaying)for(var u=function(){if(!e.gameEvent)return{value:void 0};e.gwnum++,e.currentWaveCount++;var t=n+r+o;if(e.gwnum===t&&0!==r&&e.bossgw<r)return e.bossgw++,e.loadBoss(l),e.gwboci++,c.default.levelObjArrange.gw[e.gwboci],{value:void 0};if(0!==o&&i.length>0&&null!=i[e.jygw]&&e.jygw<o&&e.gwnum===i[e.jygw]){var u=e.jygw;return e.jygw++,e.gameEvent&&cc.resources.load("SangShi_res/PreFab/gw/jingying",cc.Prefab,function(t,n){if(t)console.log("jingying prefab load err",t);else{if(!e.gameEvent)return;var o=cc.instantiate(n);o.parent=cc.find("Canvas/gwContent"),o.name="jingying",o.type="monsterA",o.x=-130,o.y=640;var i=180*Math.atan2(-1080,2.087*o.x-o.x)/Math.PI;o.angle=0;var r=o.getComponent("SangShi_monsterA");if(r){var s=a[u]||100;r.show(s,i+90)}}}),"continue"}return s.default.getInstance().createEnemy(e.gwContent,e.currentMonsterType),e.currentWaveCount>=e.MONSTERS_PER_WAVE?(e.currentWaveCount=0,e.isWaveDelaying=!0,e.currentMonsterType=1===e.currentMonsterType?2:1,e.scheduleOnce(function(){e.isWaveDelaying=!1},e.WAVE_DELAY),{value:void 0}):e.gwnum>=t?(e.gwboci++,c.default.levelObjArrange.gw[e.gwboci],{value:void 0}):void 0},d=0;d<t;d++){var p=u();if("object"==typeof p)return p.value}}},t.prototype.loadBoss=function(e){var t=this;this.gameEvent&&cc.resources.load("SangShi_res/PreFab/gw/boss",cc.Prefab,function(n,o){if(n)console.log("boss prefab load err",n);else{if(!t.gameEvent)return;var i=cc.instantiate(o);i.parent=cc.find("Canvas/gwContent"),i.x=-130,i.y=640;var a=180*Math.atan2(-1080,2.087*i.x-i.x)/Math.PI;i.angle=0;var r=i.getComponent("SangShi_BOSS");r&&r.show(e[t.bossgw-1],a+90)}})},t.prototype.update=function(e){this.gameEvent&&null!=c.default.levelObjArrange.gw[this.gwboci]&&(this.gwTime+=e,this.gwTime>=c.default.levelObjArrange.gw[this.gwboci].nextTime&&(this.gwTime-=c.default.levelObjArrange.gw[this.gwboci].nextTime,this.funcGw&&this.funcGw()))},t.prototype.attributeLoadFunc=function(){var e=this;if(this.gameEvent){var t=0,n=c.default.levelObjArrange.daoju[t],o=0,i=function(a){cc.resources.load("SangShi_res/"+a,cc.Prefab,function(a,r){if(a)console.log("block prefab load err",a);else{var s=cc.instantiate(r);if(s.parent=cc.find("Canvas/gwContent"),s.x=100,s.y=640,s.scale=.3,1===n.addType){var l=s.getComponent("SangShi_XuanXiang2");l&&l.show(n.type,n.down,n.numMax,n.numMin,n.number,n.suo)}else{var u=s.getComponent("SangShi_XuanXiang");u&&u.show(n.type,n.gjjl,n.gjl,n.gs,n.qiangbap,n.addType)}t++,n=c.default.levelObjArrange.daoju[t];var d=function(){e.unschedule(d);var t=1===n.addType?"PreFab/block2":"PreFab/block1";e.gameEvent&&i(t)};null!=c.default.levelObjArrange.daoju[t]?e.scheduleOnce(d,c.default.levelObjArrange.daoju[t].time+5*o):(o++,t=0,n=c.default.levelObjArrange.daoju[t],c.default.level>6&&e.scheduleOnce(d,c.default.levelObjArrange.daoju[t].time+5*o))}})},a=1===n.addType?"PreFab/block2":"PreFab/block1";i(a)}},t.prototype.angleStartEnd=function(e,t,n,o){return 180*Math.atan2(n-o,e-t)/Math.PI},t.prototype.win=function(){var e=this.isdelgw===this.gwmunNumer,t=this.isBossDead;if(this.gameEvent&&(e||t)&&this.gameEvent){this.gameEvent=!1,this.offTouch();try{u.default.gameEvent("game_win"+c.default.level,{})}catch(n){console.error(n)}c.default.level++,cc.sys.localStorage.setItem("level",c.default.level.toString()),cc.resources.load("SangShi_res/PreFab/UI/gameEnd",cc.Prefab,function(e,t){if(e)console.log("gameEnd prefab load err",e);else{var n=cc.instantiate(t);n.parent=cc.find("Canvas"),n.x=0,n.y=0,n.zIndex=cc.macro.MAX_ZINDEX;var o=n.getComponent("SangShi_gameEnd");o&&o.showInfo("win")}});try{u.default.gameEvent("game_win",{})}catch(n){console.error(n)}}},t.prototype.fail=function(e){if(void 0===e&&(e=0),0===e){if(!this.gameEvent)return;this.gameEvent=!1}cc.resources.load("SangShi_res/PreFab/UI/gameEnd",cc.Prefab,function(e,t){if(e)console.error("gameEnd prefab load err",e);else{var n=cc.instantiate(t);n.parent=cc.find("Canvas"),n.x=0,n.y=0,n.zIndex=cc.macro.MAX_ZINDEX;var o=n.getComponent("SangShi_gameEnd");o&&o.showInfo("fail")}});try{u.default.gameEvent("game_fail",{})}catch(t){console.error(t)}try{u.default.gameEvent("game_fail"+c.default.level,{})}catch(t){console.error(t)}this.offTouch()},t.prototype.offTouch=function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_MOVE),this.node.off(cc.Node.EventType.TOUCH_END),this.node.off(cc.Node.EventType.TOUCH_CANCEL)},t.prototype.daijifun=function(){var e=this,t=function(){e.daiji&&cc.resources.load("SangShi_res/PreFab/gw/g1",cc.Prefab,function(n,o){if(n)console.log("gw prefab load err",n);else{if(!e.daiji)return;var i=cc.instantiate(o);i.parent=cc.find("Canvas/gwContent");var a=Math.round(300*Math.random()-150);i.type="monster",i.x=a,i.y=640,i.group="gw";var r=180*Math.atan2(-1080,2.087*i.x-i.x)/Math.PI;i.angle=0;var s=i.getComponent("SangShi_monster");s&&(s._angle=r+90),e.scheduleOnce(function(){t()},10)}})};t()},t.prototype.daijizidan=function(){if(this.daiji){r.default.inst.playOneShot("sound/shouqiang");for(var e=cc.find("Canvas/gwContent"),t=function(t){var o=n.person.children[t].getComponent(sp.Skeleton);o&&(o.setAnimation(0,"attack",!1),o.setCompleteListener(function(e){"attack"===(e.animation?e.animation.name:"")&&o.setAnimation(0,"daiji",!0)}));var i=s.default.getInstance().getBulletFromPool();if(!i)return"continue";s.default.getInstance().setBulletSpritePublic(i,1),i.parent=e;var a=n.person.children[t].convertToWorldSpaceAR(cc.v2(0,0)),r=e.convertToNodeSpaceAR(a);if(i.setPosition(r),i.y+=200,e.children.length>0){var c=180*Math.atan2(i.y-e.children[0].y,i.x-e.children[0].x)/Math.PI;i.angle=90+c}i.active=!0},n=this,o=0;o<this.person.children.length;o++)t(o)}},t.prototype.updateText=function(){c.default&&this.beingjb&&(c.default.beingjb+=1,this.beingjb.string=c.default.beingjb.toString())},t.prototype.loadDaZhao=function(){var e=this;if(!this.showDaZhao){l.default.showVideo(function(){e.showDaZhao=!0,r.default.inst.playOneShot("sound/anniu"),r.default.inst.playOneShot("sound/feiji1111"),cc.resources.load("SangShi_res/PreFab/dazhao",cc.Prefab,function(e,t){if(e)console.log(e);else{var n=cc.instantiate(t);n.parent=cc.find("Canvas"),n.setPosition(0,0),n.zIndex=cc.macro.MAX_ZINDEX}});try{u.default.gameEvent("click_kongxi_end",{})}catch(t){console.error(t)}});try{u.default.gameEvent("click_kongxi"+c.default.level,{})}catch(t){console.error(t)}try{u.default.gameEvent("click_kongxi",{})}catch(t){console.error(t)}}},a([f(cc.Node)],t.prototype,"person",void 0),a([f(cc.Node)],t.prototype,"Camera",void 0),a([f(cc.Node)],t.prototype,"CameraAnchor",void 0),a([f(cc.Label)],t.prototype,"beingjb",void 0),a([f(cc.Node)],t.prototype,"Main",void 0),a([f(cc.Node)],t.prototype,"shichao",void 0),a([f(cc.Node)],t.prototype,"gameUI",void 0),a([p],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_LoadBullet:[function(e,t,n){"use strict";cc._RF.push(t,"2b5cd6GLBJBXoXoWUuw3BZp","SangShi_LoadBullet");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_GameData"),c=e("./SangShi_ObjectPool"),l=cc._decorator.ccclass,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isdead=!1,t.gamejs=null,t.bulletContent=null,t.tmpIdx=0,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}var n=this.node.getComponent(cc.BoxCollider);n&&(n.enabled=!0);var o=this.node.getComponent(sp.Skeleton);o&&o.setAnimation(0,"attack",!0),this.isdead=!1,this.bulletContent=cc.find("Canvas/bulletContent")},t.prototype.updateIsdead=function(){this.isdead=!0},t.prototype.onCollisionEnter=function(e){var t=e.node;"monster"!==t.type&&"monsterA"!==t.type&&"block1"!==t.name||this.isdead||this.dead()},t.prototype.dead=function(){if(!this.isdead){r.default.inst.playOneShot("sound/sw"),this.isdead=!0,this.node.stopAllActions();var e=this.node.getComponent(cc.BoxCollider);if(e&&(e.enabled=!1),this.gamejs&&this.gamejs.person){var t=this.gamejs.person.getComponent("SangShi_Person");t&&t.updaPersonDate()}var n=cc.find("Canvas");if(n&&this.node.parent){var o=this.node.parent.convertToWorldSpaceAR(cc.v2(this.node.x,this.node.y)),i=n.convertToNodeSpaceAR(o);c.default.getInstance().createSiwang(n,i.x,i.y,1)}this.node.active=!1,c.default.getInstance().onPersonKilled(this.node)}},t.prototype.update=function(){if(this.gamejs&&this.gamejs.gameEvent){this.node.zIndex=-(this.node.y-640);var e=s.default.gameRoot.gwContent;if(e)for(var t=0;t<20;t++){var n=e.children.length-this.tmpIdx,o=e.children[n];if(this.tmpIdx++,this.tmpIdx>e.children.length&&(this.tmpIdx=0),o&&o.isValid&&o.x<100){var i=cc.find("Canvas");if(!i)continue;var a=s.default.gameRoot.person.convertToWorldSpaceAR(cc.v2(this.node.x,this.node.y)),r=i.convertToNodeSpaceAR(a),c=e.convertToWorldSpaceAR(cc.v2(o.x,o.y)),l=i.convertToNodeSpaceAR(c),u=r.sub(l).mag();Math.abs(u)<60&&this.dead()}}}},a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_Loading:[function(e,t,n){"use strict";cc._RF.push(t,"6e67cH0CClK3YCmQzfqJGz0","SangShi_Loading");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=null,t.isLoaded=!1,t.currentProgress=0,t.targetProgress=0,t.isLoadingScene=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.loading&&(this.loading.progress=0),cc.resources.loadDir("SangShi_res",function(t,n){e.targetProgress=t/n},function(t,n){t?console.error("[SangShi_Loading] \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25:",t):(console.log("[SangShi_Loading] \u6210\u529f\u52a0\u8f7d "+(n?n.length:0)+" \u4e2a\u8d44\u6e90"),e.isLoaded=!0,e.targetProgress=1)})},t.prototype.start=function(){},t.prototype.update=function(e){this.loading&&(this.currentProgress<this.targetProgress&&(this.currentProgress+=.6*e,this.currentProgress>this.targetProgress&&(this.currentProgress=this.targetProgress),this.loading.progress=this.currentProgress),this.isLoaded&&this.currentProgress>=1&&!this.isLoadingScene&&(this.isLoadingScene=!0,cc.director.loadScene("SangShi_Game")))},a([c(cc.ProgressBar)],t.prototype,"loading",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],SangShi_Main:[function(e,t,n){"use strict";cc._RF.push(t,"9f690sHYsJFjoubYCdU9thE","SangShi_Main");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_GameData"),c=e("../../_script/AD"),l=e("../../_script/GxGame"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinUI=null,t.freeJinbi=null,t.jbnum=null,t.buff=null,t.red=null,t.yinsiBtn=null,t.shilingBtn=null,t.gengDuoBtn=null,t.desktopBtn=null,t}return i(t,e),t.prototype.onLoad=function(){cc.game.setFrameRate(59),c.default.hideVivoIcon(),c.default.showVivoIcon(),c.default.GameAllCeLue(1),c.default.showCustomRight()},t.prototype.start=function(){this.showInfo(),s.default&&(this.jbnum.string=s.default.jb.toString())},t.prototype.showInfo=function(){l.default.showPrivacyBtnWithParent(this.yinsiBtn),l.default.showGameAgeWithParent(this.shilingBtn),s.default&&s.default.sginData.sgintime!==s.default.getDate()?this.red.active=!0:this.red.active=!1;var e=this.buff.getComponent("SangShi_Buff");e&&e.showInfo()},t.prototype.showSettingUI=function(){r.default.inst.playOneShot("sound/anniu"),cc.resources.load("SangShi_res/PreFab/UI/settingUI",cc.Prefab,function(e,t){var n=cc.instantiate(t);n.parent=cc.find("Canvas"),n.setPosition(0,0);var o=n.getComponent("SangShi_Setting");o&&o.show("set")})},t.prototype.showskinUI=function(){r.default.inst.playOneShot("sound/anniu"),this.skinUI.active=!0;var e=this.skinUI.getComponent("SangShi_sgin");e&&e.show(),l.default.gameEvent("click_skin",{})},t.prototype.showfreeJinbi=function(){r.default.inst.playOneShot("sound/anniu"),this.freeJinbi.active=!0},t.prototype.showOnlineUI=function(){r.default.inst.playOneShot("sound/anniu"),cc.resources.load("SangShi_res/PreFab/UI/online",cc.Prefab,function(e,t){var n=cc.instantiate(t);n.parent=cc.find("Canvas"),n.setPosition(0,0)}),l.default.gameEvent("click_online",{})},t.prototype.showchoujiang=function(){var e=this;r.default.inst.playOneShot("sound/anniu"),cc.resources.load("SangShi_res/PreFab/UI/choujiang",cc.Prefab,function(t,n){var o=cc.instantiate(n);o.parent=e.node,o.x=0,o.y=0})},a([p(cc.Node)],t.prototype,"skinUI",void 0),a([p(cc.Node)],t.prototype,"freeJinbi",void 0),a([p(cc.Label)],t.prototype,"jbnum",void 0),a([p(cc.Node)],t.prototype,"buff",void 0),a([p(cc.Node)],t.prototype,"red",void 0),a([p(cc.Node)],t.prototype,"yinsiBtn",void 0),a([p(cc.Node)],t.prototype,"shilingBtn",void 0),a([p(cc.Node)],t.prototype,"gengDuoBtn",void 0),a([p(cc.Node)],t.prototype,"desktopBtn",void 0),a([d],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_ObjectPool:[function(e,t,n){"use strict";cc._RF.push(t,"7b4340WdvdFBK6A20FS18CX","SangShi_ObjectPool");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("./SangShi_GameData"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPool=null,t.enemyPool2=null,t.enemyColumnIndex=0,t.bulletPool=null,t.gjPool=null,t.personPool=null,t.siwangPool=null,t.siwang=null,t.zidan=null,t.gw=null,t.gw2=null,t.gj=null,t.person=null,t.upgradePerson=null,t.bulletSprites=[],t}var n;return i(t,e),n=t,t.prototype.start=function(){},t.prototype.loadAssetAsync=function(e,t){return new Promise(function(n,o){cc.resources.load(e,t,function(e,t){e?o(e):n(t)})})},t.prototype.initBulletPool=function(){return r(this,void 0,Promise,function(){var e,t,n,o,i,a,r;return s(this,function(s){switch(s.label){case 0:return[4,this.loadAssetAsync("SangShi_res/PreFab/bullet",cc.Prefab)];case 1:for(e=s.sent(),this.zidan=e,this.bulletPool=new cc.NodePool,t=0;t<2e3;++t)(n=cc.instantiate(this.zidan)).active=!1,this.bulletPool.put(n);return this.bulletSprites=[null,null,null],[4,Promise.all([this.loadAssetAsync("SangShi_res/Battle/bullet1",cc.SpriteFrame),this.loadAssetAsync("SangShi_res/Battle/bullet3",cc.SpriteFrame),this.loadAssetAsync("SangShi_res/Battle/bullet2",cc.SpriteFrame)])];case 2:return o=s.sent(),i=o[0],a=o[1],r=o[2],this.bulletSprites[0]=i,this.bulletSprites[1]=a,this.bulletSprites[2]=r,[2]}})})},t.prototype.init=function(){var e=this;this.initBulletPool(),cc.resources.load("SangShi_res/PreFab/gw/g1",cc.Prefab,function(t,n){e.gw=n,e.enemyPool=new cc.NodePool;for(var o=0;o<1e3;++o){var i=cc.instantiate(e.gw);i.active=!1,e.enemyPool.put(i)}}),cc.resources.load("SangShi_res/PreFab/gw/g2",cc.Prefab,function(t,n){e.gw2=n,e.enemyPool2=new cc.NodePool;for(var o=0;o<1e3;++o){var i=cc.instantiate(e.gw2);i.active=!1,e.enemyPool2.put(i)}}),cc.resources.load("SangShi_res/PreFab/GJ",cc.Prefab,function(t,n){e.gj=n,e.gjPool=new cc.NodePool;for(var o=0;o<500;++o){var i=cc.instantiate(e.gj);i.active=!1,e.gjPool.put(i)}}),cc.resources.load("SangShi_res/PreFab/Player",cc.Prefab,function(t,n){e.person=n,e.personPool=new cc.NodePool;for(var o=0;o<50;++o){var i=cc.instantiate(e.person);i.active=!1,i.scale=1,e.personPool.put(i)}}),cc.resources.load("SangShi_res/PreFab/siwang",cc.Prefab,function(t,n){e.siwang=n,e.siwangPool=new cc.NodePool;for(var o=0;o<100;++o){var i=cc.instantiate(e.siwang);i.active=!1,e.siwangPool.put(i)}})},t.prototype.createSiwang=function(e,t,n,o){var i,a=this;this.siwang&&((i=this.siwangPool&&this.siwangPool.size()>0?this.siwangPool.get():cc.instantiate(this.siwang)).parent=e,i.setPosition(t,n),i.scale=o,i.zIndex=1,i.active=!0,setTimeout(function(){i&&i.isValid&&a.onSiwangKilled(i)},1e3))},t.prototype.createPerson=function(e,t){if(void 0===t&&(t=!1),t)this.createUpgradedPerson(e);else if(this.personPool&&this.personPool.size()>0){var n=this.personPool.get();n.parent=e,n.zIndex=2,n.setPosition(0,0),n.active=!0}},t.prototype.createPersonAtPosition=function(e,t,n){if(this.personPool&&this.personPool.size()>0){var o=this.personPool.get();return o.parent=e,o.zIndex=2,o.setPosition(t),o.scale=n,o.active=!0,o}return null},t.prototype.upgradeAllPersons=function(e,t,n){var o=this;this.ensureUpgradePlayerLoaded(function(){for(var i=0;i<t.length;i++)o.createUpgradedPersonAtPosition(e,t[i].position,t[i].angle,t[i].scale);n&&n()})},t.prototype.createUpgradedPerson=function(e){var t=this;this.ensureUpgradePlayerLoaded(function(){t.createUpgradedPersonAtPosition(e)})},t.prototype.createUpgradedPersonAtPosition=function(e,t,n,o){if(void 0===t&&(t=cc.v2(0,0)),void 0===n&&(n=0),void 0===o&&(o=1),this.upgradePerson){var i=cc.instantiate(this.upgradePerson);i.name="UpgradePlayer",i.parent=e,i.setPosition(t),i.angle=n,i.scale=o,i.zIndex=2;var a=i.getChildByName("person").getComponent(cc.BoxCollider);a&&(a.enabled=!0);var r=i.getChildByName("person").getComponent(sp.Skeleton);r&&r.setAnimation(0,"attack",!0),i.active=!0}},t.prototype.ensureUpgradePlayerLoaded=function(e){var t=this;this.upgradePerson?e():cc.resources.load("SangShi_res/PreFab/UpgradePlayer",cc.Prefab,function(n,o){n||(t.upgradePerson=o,e())})},t.prototype.createGJ=function(e,t,n){var o=this;if(this.gj){var i;(i=this.gjPool&&this.gjPool.size()>0?this.gjPool.get():cc.instantiate(this.gj)).parent=e,i.x=t,i.y=n,i.zIndex=cc.macro.MAX_ZINDEX-1,i.active=!0;var a=i.getComponent(sp.Skeleton);a&&a.setAnimation(0,"jizhong1",!1),setTimeout(function(){i&&i.isValid&&o.onGJKilled(i)},500)}},t.prototype.getBulletFromPool=function(){return this.bulletPool&&this.bulletPool.size()>0?this.bulletPool.get():this.zidan?cc.instantiate(this.zidan):null},t.prototype.setBulletSpritePublic=function(e,t){this.setBulletSprite(e,t)},t.prototype.createBullet=function(e,t,n){var o;(o=this.bulletPool&&this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.zidan)).parent=e;var i,a=t.convertToWorldSpaceAR(cc.v2(0,0)),r=e.convertToNodeSpaceAR(a);o.setPosition(r),o.y+=110,i=o.x<=0?180*Math.atan2(o.y-640,o.x-o.x/1.8)/Math.PI:180*Math.atan2(o.y-640,o.x-o.x/2)/Math.PI,o.angle=90+i,this.setBulletSprite(o,n),o.active=!0},t.prototype.setBulletSprite=function(e,t){var n=t||c.default.qiang||1,o=e.getComponent(cc.Sprite);if(o||(o=e.addComponent(cc.Sprite)),this.bulletSprites&&this.bulletSprites.length>=n){var i=this.bulletSprites[n-1];i?o.spriteFrame=i:this.waitAndSetBulletSpriteAsync(e,n)}},t.prototype.waitAndSetBulletSpriteAsync=function(e,t){return r(this,void 0,Promise,function(){var n,o,i,a;return s(this,function(r){switch(r.label){case 0:n=100,o=50,i=0,r.label=1;case 1:return i<n?[4,new Promise(function(e){return setTimeout(e,o)})]:[3,4];case 2:if(r.sent(),this.bulletSprites&&this.bulletSprites[t-1])return(a=e.getComponent(cc.Sprite))&&e.isValid&&(a.spriteFrame=this.bulletSprites[t-1]),[2];r.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.createEnemy=function(e,t){var n;if(void 0===t&&(t=1),2===t)if(this.enemyPool2&&this.enemyPool2.size()>0)n=this.enemyPool2.get();else{if(!this.gw2)return this.createEnemy(e,1);n=cc.instantiate(this.gw2)}else if(this.enemyPool&&this.enemyPool.size()>0)n=this.enemyPool.get();else{if(!this.gw)return;n=cc.instantiate(this.gw)}n.parent=e;var o=[-140,-100,-60,-20],i=o[this.enemyColumnIndex%o.length];this.enemyColumnIndex++,n.type="monster",n.x=i,n.y=780;var a=0;n.x<=0&&(a=Math.atan2(-1080,2.087*n.x-n.x));var r=180*a/Math.PI;n.angle=0;var s=n.getComponent("SangShi_monster");s&&(s._angle=r+90),n.active=!0},t.prototype.onGJKilled=function(e){e.active=!1,this.gjPool&&this.gjPool.put(e)},t.prototype.onEnemyKilled=function(e){e.active=!1,"g2"===e.name&&this.enemyPool2?this.enemyPool2.put(e):this.enemyPool&&this.enemyPool.put(e)},t.prototype.onBulletKilled=function(e){e.active=!1,this.bulletPool&&this.bulletPool.put(e)},t.prototype.onPersonKilled=function(e){e.active=!1,e.stopAllActions(),e.angle=0,this.personPool&&this.personPool.put(e)},t.prototype.onSiwangKilled=function(e){e.active=!1,this.siwangPool&&this.siwangPool.put(e)},t.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},t.instance=null,n=a([u],t)}(cc.Component));n.default=d,cc._RF.pop()},{"./SangShi_GameData":"SangShi_GameData"}],SangShi_Person:[function(e,t,n){"use strict";cc._RF.push(t,"9febbLgF/JPIIV8QtR+eamv","SangShi_Person");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_GameData"),c=e("./SangShi_ObjectPool"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gamejs=null,t.num=0,t.bulletContent=null,t.bulletTime=0,t.isUpgraded=!1,t}return i(t,e),t.prototype.onLoad=function(){this.bulletContent=cc.find("Canvas/bulletContent")},t.prototype.start=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}},t.prototype.getPointOnCircle=function(e,t,n){var o=e.x,i=e.y,a=n*Math.PI/180,r=o+t*Math.cos(a),s=i+t*Math.sin(a);return cc.v2(r,s)},t.prototype.startGame=function(){this.isUpgraded=!1,this.num=0,this.addPerson(1),this.node.zIndex=-(this.node.y-640)},t.prototype.gain=function(){var e=this;r.default.inst.playOneShot("sound/mf_UP");var t=this.node.children.length;t<1?t=.5:t<=10?t=1:t>10&&(t=2),cc.resources.load("SangShi_res/PreFab/UI/buff",cc.Prefab,function(t,n){for(var o=function(t){var o=cc.instantiate(n);o.parent=e.node.children[t],o.scale=1,e.scheduleOnce(function(){o.destroy()},1.5)},i=0;i<e.node.children.length;i++)o(i)}),cc.resources.load("SangShi_res/PreFab/UI/quan",cc.Prefab,function(n,o){var i=cc.instantiate(o);i.parent=e.node,i.zIndex=1,i.scale=t,e.scheduleOnce(function(){i.destroy()},1.5)})},t.prototype.updaPersonDate=function(){var e=this;this.scheduleOnce(function(){for(var t=0,n=0;n<e.node.children.length;n++)"quan"!==(c=e.node.children[n]).name&&"buff"!==c.name&&t++;if(e.num=t,0===e.num)e.gamejs&&e.gamejs.gameEvent&&e.gamejs.fail(0);else if(1===e.num){for(n=0;n<e.node.children.length;n++)if("quan"!==(c=e.node.children[n]).name&&"buff"!==c.name){c.position=cc.v2(0,0);break}}else{for(var o=e.num,i=0,a=0,r=o,s=4;r>0;)r-=s,a++,s++;for(n=0;n<e.node.children.length;n++){var c;if("quan"!==(c=e.node.children[n]).name&&"buff"!==c.name){for(var l,u=0,d=i,p=0;d>=4+u;)p+=4+u,d-=4+u,u++;l=d;var f=4+u,h=-40*(Math.min(f,o-p)-1)/2+40*l,g=50*-u,v=a-1-u,y=Math.max(.6,1-.1*v),m=cc.v2(h,g);cc.tween(c).to(.5,{position:m,scale:y}).start(),i++}}}},.2)},t.prototype.updateShowInfo=function(e,t,n){if(1===n){var o=this.node.children.length;1===e?this.addPerson(t):2===e?this.delPerson(t):3===e?this.addPerson(o*(t-1)):4===e&&this.delPerson(o-Math.floor(o/t))}},t.prototype.addPerson=function(e){for(var t=0;t<e;t++)c.default.getInstance().createPerson(this.node,this.isUpgraded);this.updaPersonDate()},t.prototype.refreshCharacter=function(e){for(var t=this,n=[],o=[],i=0;i<this.node.children.length;i++){var a=this.node.children[i];"quan"!==a.name&&"buff"!==a.name&&(o.push({position:a.position.clone(),angle:a.angle,scale:a.scale}),n.push(a))}if(e&&(this.isUpgraded=!0),e||this.isUpgraded)c.default.getInstance().upgradeAllPersons(this.node,o,function(){t.recycleOldPersons(n,e)});else{for(i=0;i<o.length;i++){var r=o[i];c.default.getInstance().createPersonAtPosition(this.node,r.position,r.scale)}this.recycleOldPersons(n,e)}},t.prototype.recycleOldPersons=function(e,t){this.scheduleOnce(function(){for(var n=0,o=e;n<o.length;n++){var i=o[n];i.isValid&&(i.removeFromParent(),c.default.getInstance().onPersonKilled(i))}t&&r.default.inst.playOneShot("sound/mf_UP")},0)},t.prototype.refreshPlayer=function(){this.refreshCharacter(!1)},t.prototype.upgradePlayer=function(){this.refreshCharacter(!0)},t.prototype.delPerson=function(e){for(var t=Math.abs(e),n=[],o=0;o<this.node.children.length&&n.length<t;o++){var i=this.node.children[o];"quan"!==i.name&&"buff"!==i.name&&n.push(i)}for(o=0;o<n.length;o++){var a=n[o],r=a.getComponent("SangShi_LoadBullet");r&&r.updateIsdead();var s=cc.find("Canvas");if(s&&a.parent){var l=a.parent.convertToWorldSpaceAR(cc.v2(a.x,a.y)),u=s.convertToNodeSpaceAR(l);a.removeFromParent(!1),a.parent=s,a.setPosition(u)}c.default.getInstance().onPersonKilled(a)}this.updaPersonDate()},t.prototype.bulletLoadFunc=function(){if(this.gamejs&&this.gamejs.gameEvent){1===s.default.qiang?r.default.inst.playOneShot("sound/shouqiang",.5):2===s.default.qiang?r.default.inst.playOneShot("sound/zjqh_1",.5):r.default.inst.playOneShot("sound/zjqh_2",.5);for(var e=0;e<this.node.children.length;e++){if(!this.gamejs.gameEvent)return;c.default.getInstance().createBullet(this.bulletContent,this.node.children[e])}}},t.prototype.update=function(e){if(this.gamejs&&this.gamejs.gameEvent){this.bulletTime+=e;var t=s.default.waponBox.gs+s.default.linshi.gs;t>=100&&(t=100),this.bulletTime>=1/t&&(this.bulletTime-=1/t,this.bulletLoadFunc())}},a([u],t)}(cc.Component));n.default=d,cc._RF.pop()},{"./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_Setting:[function(e,t,n){"use strict";cc._RF.push(t,"6fabcPI7cdKzYIyEFi9XOMe","SangShi_Setting");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../_script/AD"),s=e("../../_script/GxGame"),c=e("./SangShi_AudioMgr"),l=e("./SangShi_GameData"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closebtn=null,t.chongxin=null,t.fanhui=null,t.gamejs=null,t.isstop=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}r.default.showChaPing(2),r.default.GameAllCeLue(3),r.default.showBanner()},t.prototype.start=function(){},t.prototype.show=function(e){l.default&&(this.updateMusicToggle("1",l.default.musicType1),this.updateMusicToggle("2",l.default.musicType2),this.updateMusicToggle("3",l.default.musicType3)),"set"===e?(this.closebtn.active=!0,this.chongxin.active=!1,this.fanhui.active=!1,this.isstop=!1):"stop"===e&&(this.closebtn.active=!0,this.chongxin.active=!0,this.fanhui.active=!0,cc.director.pause())},t.prototype.updateMusicToggle=function(e,t){var n=this.node.getChildByName(e);if(n){var o=n.getChildByName("1");if(o){var i=o.getChildByName("music2"),a=o.getChildByName("music1");1===t?(i&&(i.active=!0,i.x=0),a&&(a.active=!1,a.x=0)):(i&&(i.active=!1,i.x=-90),a&&(a.active=!0,a.x=-90))}}},t.prototype.onclickMusic=function(e,t){var n=e.target,o=n.getChildByName("music2"),i=n.getChildByName("music1");o&&(o.active=!o.active),i&&(i.active=!i.active),c.default.inst.playOneShot("sound/anniu");var a=function(){o&&cc.tween(o).to(.2,{position:cc.v2(-90,n.y)}).start(),i&&cc.tween(i).to(.2,{position:cc.v2(-90,n.y)}).start()},r=function(){o&&cc.tween(o).to(.2,{position:cc.v2(0,n.y)}).start(),i&&cc.tween(i).to(.2,{position:cc.v2(0,n.y)}).start()};l.default&&("\u97f3\u4e50"===t?1===l.default.musicType1?(l.default.musicType1=0,c.default.inst.stop(),a()):(l.default.musicType1=1,c.default.inst.play("sound/BGM1"),r()):"\u97f3\u6548"===t?1===l.default.musicType2?(l.default.musicType2=0,a()):(l.default.musicType2=1,r()):"\u632f\u52a8"===t&&(1===l.default.musicType3?(l.default.musicType3=0,a()):(l.default.musicType3=1,r())))},t.prototype.close=function(){c.default.inst.playOneShot("sound/anniu"),r.default.hideBanner(),cc.director.resume(),this.node.destroy()},t.prototype.chongxinFunc=function(){c.default.inst.playOneShot("sound/anniu"),cc.director.resume(),this.gamejs&&(this.gamejs.startGame(),l.default&&(s.default.gameEvent("game_resume"+l.default.level,{}),s.default.gameEvent("game_resume",{}),this.node.destroy()))},t.prototype.returnfunc=function(){c.default.inst.playOneShot("sound/anniu"),cc.director.resume(),l.default&&(s.default.gameEvent("return_game"+l.default.level,{}),s.default.gameEvent("return_game",{}),r.default.hideBanner(),cc.director.loadScene("SangShi_Game"))},a([p(cc.Node)],t.prototype,"closebtn",void 0),a([p(cc.Node)],t.prototype,"chongxin",void 0),a([p(cc.Node)],t.prototype,"fanhui",void 0),a([d],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_TurntableUI:[function(e,t,n){"use strict";cc._RF.push(t,"bc735nCiNFHgoPKQdFJWl4Y","SangShi_TurntableUI");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TurntableCfg=void 0;var r=e("./SangShi_AudioMgr"),s=e("./SangShi_GameData"),c=e("../../../_script/GxConstant"),l=e("../../_script/AD"),u=e("../../_script/GxGame"),d=cc._decorator,p=d.ccclass,f=d.property;n.TurntableCfg={0:{awardType:1,val:2e3,rate:.05},1:{awardType:1,val:500,rate:.16},2:{awardType:1,val:1500,rate:.1},3:{awardType:1,val:500,rate:.16},4:{awardType:1,val:1e3,rate:.15},5:{awardType:1,val:500,rate:.38}};var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turnPanel=null,t.runBtn=null,t.tip=null,t.oppoGl=null,t.close=null,t.index=0,t._cfg=[],t}return i(t,e),t.prototype.onRunTableClick=function(){this.runTableAnim(),r.default.inst.playOneShot("sound/anniu")},t.prototype.start=function(){if(0===this._cfg.length){var e=0;for(var t in n.TurntableCfg)this._cfg[e]=n.TurntableCfg[t].rate,e++}l.default.GameAllCeLue(5),this.updaVideoBtn(),c.default.IS_OPPO_GAME&&(this.oppoGl.active=!0),l.default.showChaPing(1),l.default.showBanner()},t.prototype.updaVideoBtn=function(){var e=this.runBtn.getChildByName("1"),t=this.runBtn.getChildByName("2");""===s.default.sginCJ.sgintime&&0===s.default.sginCJ.type?(e&&(e.active=!0),t&&(t.active=!1)):s.default.sginCJ.sgintime!==s.default.getDate()?(s.default.sginCJ.sgintime="",s.default.sginCJ.type=0,e&&(e.active=!0),t&&(t.active=!1)):s.default.sginCJ.sgintime===s.default.getDate()&&(e&&(e.active=!1),t&&(t.active=!0))},t.prototype.getRandItemId=function(){for(var e=[],t=0;t<this._cfg.length;t++)e.push({id:t,rate:this._cfg[t]});e.sort(function(e,t){return e.rate-t.rate});var n=0,o=Math.random(),i=0;for(t=0;t<e.length;t++){var a=e[t];if(o<=(n+=a.rate)){i=a.id;break}}return this.index=i,i},t.prototype.runTableAnim=function(e){var t=this,n=function(){t.runBtn.active=!1,t.close.active=!1,0===s.default.sginCJ.type&&(s.default.sginCJ.type=1,s.default.sginCJ.sgintime=s.default.getDate(),cc.sys.localStorage.setItem("sginCJ",JSON.stringify(s.default.sginCJ)),t.updaVideoBtn()),null==e&&(e=t.getRandItemId());var n=t.turnPanel.angle;n=(n+360)%360,t.turnPanel.angle=0;var o=60*e;o+=2160,cc.tween(t.turnPanel).to(3,{angle:o}).call(function(){t.runFinished(e)}).start()},o=this.runBtn.getChildByName("2"),i=this.runBtn.getChildByName("1");o&&o.active?(l.default.showVideo(function(){n(),u.default.gameEvent("click_video_zhuanpan_end",{})}),u.default.gameEvent("click_video_zhuanpan",{})):i&&i.active&&n()},t.prototype.runFinished=function(e){this.runBtn.active=!0,this.close.active=!0,this.tip.active=!0;var t=this.tip.getChildByName(n.TurntableCfg[e].val.toString());t&&(t.active=!0),cc.tween(this.tip).to(.3,{scale:1}).start()},t.prototype.lingqufunc=function(){var e=this;r.default.inst.playOneShot("sound/anniu"),cc.resources.load("SangShi_res/PreFab/UI/JB",cc.Prefab,function(t,o){var i=cc.instantiate(o);i.parent=cc.find("Canvas"),i.setPosition(0,0),e.scheduleOnce(function(){var t=e.tip.getChildByName(n.TurntableCfg[e.index].val.toString());t&&(t.active=!1),s.default.jb=s.default.jb-0+n.TurntableCfg[e.index].val,cc.sys.localStorage.setItem("jb",s.default.jb.toString());var o=cc.find("Canvas/Main");if(o){var a=o.getComponent("SangShi_Main");a&&(a.jbnum.string=s.default.jb.toString(),a.showInfo())}i.destroy()},1.5),cc.tween(e.tip).to(.3,{scale:0}).call(function(){e.tip.active=!1}).start()})},t.prototype.twolingqufunc=function(){var e=this;r.default.inst.playOneShot("sound/anniu"),l.default.showVideo(function(){cc.resources.load("SangShi_res/PreFab/UI/JB",cc.Prefab,function(t,o){var i=cc.instantiate(o);i.parent=cc.find("Canvas"),i.setPosition(0,0),e.scheduleOnce(function(){var t=e.tip.getChildByName(n.TurntableCfg[e.index].val.toString());t&&(t.active=!1),s.default.jb=s.default.jb-0+n.TurntableCfg[e.index].val+n.TurntableCfg[e.index].val,cc.sys.localStorage.setItem("jb",s.default.jb.toString());var o=cc.find("Canvas/Main");if(o){var a=o.getComponent("SangShi_Main");a&&(a.jbnum.string=s.default.jb.toString(),a.showInfo())}i.destroy()},1.5),cc.tween(e.tip).to(.3,{scale:0}).call(function(){e.tip.active=!1}).start()}),u.default.gameEvent("click_zhuanpan_two_end",{})}),u.default.gameEvent("click_zhuanpan_two",{})},t.prototype.closeFunc=function(){l.default.hideBanner(),r.default.inst.playOneShot("sound/anniu"),this.node.destroy()},a([f(cc.Node)],t.prototype,"turnPanel",void 0),a([f(cc.Node)],t.prototype,"runBtn",void 0),a([f(cc.Node)],t.prototype,"tip",void 0),a([f(cc.Node)],t.prototype,"oppoGl",void 0),a([f(cc.Node)],t.prototype,"close",void 0),a([p],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../_script/GxConstant":void 0,"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_XuanXiang2:[function(e,t,n){"use strict";cc._RF.push(t,"ac128HSytBOmoJ6yEcoqJ+a","SangShi_XuanXiang2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_ObjectPool"),c=e("./SangShi_Person"),l=e("./SangShi_GameData"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.borderArr=[],t.down=!1,t.numMax=8,t.type=1,t.number=-8,t.addType=1,t.gamejs=null,t.str=null,t.combo=0,t.suo=0,t.isdel=!1,t.suoOpen=!1,t.top1=0,t.top2=5,t.redblue=!1,t.peng=!1,t.isFifthBoardBlue=!1,t.boardIndex=0,t.maxBoards=5,t.boardHeightStep=70,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}},t.prototype.start=function(){},t.prototype.show=function(e,t,n,o,i,a){this.type=e,this.down=t,this.numMax=n,this.number=i,this.suo=a,this.initBoard()},t.prototype.initBoard=function(){this.boardIndex=0,this.isFifthBoardBlue=!1;for(var e=0;e<this.borderArr.length;e++){var t=this.borderArr[e];t.y=-315/8-315*e,t.active=0===e}},t.prototype.updateBoardPosition=function(){if(!this.isFifthBoardBlue){for(var e=0;e<this.borderArr.length;e++){var t=this.borderArr[e],n=t.y+this.boardHeightStep;cc.tween(t).to(.15,{y:n},{easing:"sineOut"}).start()}if(this.boardIndex<this.borderArr.length-1){var o=this.borderArr[this.boardIndex+1];if(o.y>=-100){if(this.boardIndex>=0&&this.boardIndex<this.borderArr.length){var i=this.borderArr[this.boardIndex].getChildByName("borderblue");if(this.boardIndex>=1){var a=(s=this.borderArr[this.boardIndex-1]).getChildByName("borderblue");a&&(a.active=!1)}i&&(i.active=!0,r.default.inst.playOneShot("sound/UP"))}this.boardIndex++,o.active=!0}}else if(this.boardIndex===this.borderArr.length-1){var s;if((s=this.borderArr[this.boardIndex]).y>=157.5&&!this.isFifthBoardBlue){if(this.isFifthBoardBlue=!0,this.boardIndex>=1){var c=this.borderArr[this.boardIndex-1].getChildByName("borderblue");c&&(c.active=!1)}(i=s.getChildByName("borderblue"))&&(i.active=!0,r.default.inst.playOneShot("sound/UP"))}}}},t.prototype.getCurrentBlueBoardNumber=function(){for(var e=0;e<this.borderArr.length;e++){var t=this.borderArr[e];if(t.active){var n=t.getChildByName("borderblue");if(n&&n.active)return e+1}}return 0},t.prototype.onCollisionEnter=function(e){var t=this;if("bullet"===e.node.name){if(!this.peng){this.peng=!0,this.scheduleOnce(function(){t.peng=!1},.1),this.combo++,this.updateBoardPosition();var n=l.default.waponBox.gjl+l.default.linshi.gjl;this.down?(r.default.inst.playOneShot("sound/qipao1"),this.suoOpen&&(this.top1+=n,this.top1>=this.top2&&(this.top1=this.top2),this.number+=n),this.suo===this.combo&&(this.combo=this.suo,this.suoOpen=!0)):(r.default.inst.playOneShot("sound/Q_jinshu2"),this.number+=n),this.number>=this.numMax&&(this.number=this.numMax,this.suoOpen=!0),1===this.addType&&(1===this.type||(2===this.type?0===this.number&&(this.type=1):3===this.type||4===this.type&&3===this.number&&(this.type=1)))}s.default.getInstance().onBulletKilled(e.node)}else if("person"===e.node.name)if(this.type=1,this.down){if(this.suoOpen&&!this.isdel){if(this.isdel=!0,this.gamejs&&this.gamejs.person&&(i=this.gamejs.person.getComponent(c.default))){var o=this.getCurrentBlueBoardNumber();i.addPerson(o),i.gain()}this.node.destroy()}}else if(!this.isdel){var i;this.isdel=!0,this.gamejs&&this.gamejs.person&&(i=this.gamejs.person.getComponent(c.default))&&(o=this.getCurrentBlueBoardNumber(),i.addPerson(o),i.gain()),this.node.destroy()}},t.prototype.update=function(){if(this.gamejs&&this.gamejs.gameEvent){var e=-(180*Math.atan2(-1080,140)/Math.PI+90-180)*Math.PI/180;this.node.x+=1.8*Math.sin(e),this.node.y+=1.8*Math.cos(e),this.node.scale=.3+.00036363636363636367*(640-this.node.y),this.node.zIndex=-(this.node.y-640),this.node.y<-640&&this.node.destroy()}},a([p([cc.Node])],t.prototype,"borderArr",void 0),a([d],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool","./SangShi_Person":"SangShi_Person"}],SangShi_XuanXiang:[function(e,t,n){"use strict";cc._RF.push(t,"f1282mioBZOgJO3+3hXdYvO","SangShi_XuanXiang");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_ObjectPool"),s=e("./SangShi_AudioMgr"),c=e("./SangShi_GameData"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.red=null,t.box=null,t.spear=null,t.numMax=8,t.down=!1,t.type=1,t.number=0,t.addType=1,t.gjjl=0,t.gjl=0,t.gs=0,t.bao=[],t.gamejs=null,t.str=null,t.peng=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}},t.prototype.start=function(){},t.prototype.show=function(e,t,n,o,i,a){if(this.type=e,this.gjjl=t,this.gjl=n,this.gs=o,this.bao=i,this.addType=a,2===this.addType||3===this.addType){if(this.label.node.active=!0,this.bao&&this.bao.length>0){var r=this.bao[this.bao.length-1];this.label.string=r.toString()}}else this.showInfo();if(3===this.addType){var s=this.spear.getChildByName("2");s&&(s.active=!0)}else if(2===this.addType){var c=this.spear.getChildByName("1");c&&(c.active=!0)}},t.prototype.onCollisionEnter=function(e,t){var n=this;if("bullet"===e.node.name){if(s.default.inst.playOneShot("sound/Q_jinshu1"),this.red.active=!0,this.scheduleOnce(function(){n.red.active=!1},.1),2===this.addType||3===this.addType){var o=c.default.waponBox.gjl+c.default.linshi.gjl;if(this.number+=o,this.bao&&this.bao.length>0){var i=this.bao[this.bao.length-1],a=i-this.number,l=a>0?a:0,u={value:parseInt(this.label.string)||i};cc.tween(u).to(.3,{value:l},{easing:"sineOut",progress:function(e,t,o,i){return n.label.string=Math.floor(cc.misc.lerp(e,t,i)).toString(),i}}).start()}if(this.number===this.bao[0]){var d=this.spear.parent.getChildByName("1");d&&(d.active=!0)}if(this.number===this.bao[1]){var p=this.spear.parent.getChildByName("2");p&&(p.active=!0)}if(this.number===this.bao[2]){var f=this.spear.parent.getChildByName("3");f&&(f.active=!0)}if(this.number>=this.bao[3]){t.node.getComponent(cc.BoxCollider)&&t.node.removeComponent(cc.BoxCollider),this.box.active=!1;var h=this.node.getChildByName("suikuai");if(h){h.active=!0;var g=h.getComponent(sp.Skeleton);g&&(g.setAnimation(0,"sui",!1),g.setCompleteListener(function(e){"sui"===(e.animation?e.animation.name:"")&&(cc.resources.load("SangShi_res/PreFab/UI/lightball",cc.Prefab,function(e,t){var o=cc.instantiate(t);o.parent=cc.find("Canvas");var i=cc.find("Canvas/gwContent");if(i){var a=n.node.convertToWorldSpaceAR(cc.v2(0,0)),r=i.convertToNodeSpaceAR(a);o.setPosition(r)}var s=o.getChildByName(n.addType.toString());s&&(s.active=!0);var l=o.getComponent("SangShi_guangqiu");if(l){var u=n.addType,d=n.gs,p=n.gjjl;l.func=function(){if(c.default.qiang=u,c.default.linshi.gs+=d,c.default.linshi.gjjl+=p,2===u){var e=c.default.gameRoot;if(e&&e.person){var t=e.person.getComponent("SangShi_Person");t&&t.upgradePlayer()}}}}}),t.node&&t.node.destroy())}))}}}if(2===this.addType){var v=this.spear.getChildByName("1");if(v){var y=v.getChildByName("red"),m=v.getChildByName("golden");y&&(y.active=!0),m&&(m.active=!1),this.scheduleOnce(function(){y&&(y.active=!1),m&&(m.active=!0)},.1)}}else if(3===this.addType){var _=this.spear.getChildByName("2");if(_){var S=_.getChildByName("red"),b=_.getChildByName("golden");S&&(S.active=!0),b&&(b.active=!1),this.scheduleOnce(function(){S&&(S.active=!1),b&&(b.active=!0)},.1)}}r.default.getInstance().onBulletKilled(e.node)}else if("person"===e.node.name){var w=e.node.parent.getComponent("SangShi_LoadBullet");w&&!w.isdead&&w.dead()}},t.prototype.showInfo=function(){this.number>=this.numMax&&(this.number=this.numMax),1===this.type?this.label.string="+"+this.number:2===this.type?this.label.string="-"+this.number:3===this.type?this.label.string="*"+this.number:4===this.type&&(this.label.string="\xf7"+this.number),this.down&&(this.box.y=110*this.number/this.numMax)},t.prototype.update=function(){if(this.gamejs&&this.gamejs.gameEvent){var e=-(180*Math.atan2(-1080,140)/Math.PI+90-180)*Math.PI/180;this.node.x+=2.5*Math.sin(e),this.node.y+=2.5*Math.cos(e),this.node.scale=.6+.00036363636363636367*(640-this.node.y),this.node.zIndex=-(this.node.y-640),this.node.y<-640&&this.node.destroy()}},a([d(cc.Label)],t.prototype,"label",void 0),a([d(cc.Node)],t.prototype,"red",void 0),a([d(cc.Node)],t.prototype,"box",void 0),a([d(cc.Node)],t.prototype,"spear",void 0),a([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_boss1:[function(e,t,n){"use strict";cc._RF.push(t,"71f12gTm1lFno/yF0rqnkx1","SangShi_boss1");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_BOSS"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.onCollisionEnter=function(e){if("bullet"===e.node.name){var t=this.boss.getComponent(r.default);t&&t.updatHp()}},a([l(cc.Node)],t.prototype,"boss",void 0),a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./SangShi_BOSS":"SangShi_BOSS"}],SangShi_bullet:[function(e,t,n){"use strict";cc._RF.push(t,"90560vGMIVBs5loD5sBhVuV","SangShi_bullet");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_GameData"),s=e("./SangShi_ObjectPool"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=!0,t.gamejs=null,t.initY=0,t.endX=0,t.endY=0,t.tmpIdx=0,t.hasHit=!1,t}return i(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.initY=this.node.y,this.hasHit=!1;var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}var n=Math.floor(r.default.waponBox.gs+r.default.linshi.gs);n>8&&(n=8);var o=this.node.getComponent(cc.BoxCollider);o&&(o.enabled=!0)},t.prototype.onCollisionEnter=function(e){var t=e.node;"monster"!==t.type&&"jingying"!==t.name&&"boss"!==t.name||(s.default.getInstance().createGJ(cc.find("Canvas"),this.endX,this.endY),this.gamejs&&this.gamejs.daiji?this.node.destroy():s.default.getInstance().onBulletKilled(this.node))},t.prototype.update=function(){if(this.node&&this.node.isValid&&this.gamejs){var e=-(this.node.angle-180)*Math.PI/180;if(this.node.x-=10*Math.sin(e),this.node.y-=10*Math.cos(e),this.endX=Math.floor(this.node.x),this.endY=Math.floor(this.node.y),this.gamejs.daiji){if(this.node.y>=640)return void this.node.destroy()}else{var t=r.default.waponBox.gjjl+r.default.linshi.gjjl;if(this.node.y+this.initY>=t)return void s.default.getInstance().onBulletKilled(this.node);this.checkMonsterCollision(),this.node.zIndex=-(this.node.y-640)}}},t.prototype.checkMonsterCollision=function(){if(!this.hasHit&&this.node&&this.node.isValid){var e=r.default.gameRoot.gwContent;if(e&&e.children&&0!==e.children.length)for(var t=Math.min(20,e.children.length),n=0;n<t;n++){var o=e.children.length-this.tmpIdx-1;if(this.tmpIdx++,this.tmpIdx>=e.children.length&&(this.tmpIdx=0),!(o<0||o>=e.children.length)){var i=e.children[o];if(i&&i.isValid&&i.x<100){var a=i.getComponent(cc.BoxCollider),c=40,l=0;a&&(c=.4*Math.max(a.size.width,a.size.height),"boss"===i.name&&(c=.45*Math.max(a.size.width,a.size.height),l=.6*a.size.height*i.scale));var u=i.position.add(cc.v2(0,l)),d=this.node.position.sub(u).mag();if(Math.abs(d)<c){this.hasHit=!0,s.default.getInstance().createGJ(cc.find("Canvas"),this.endX,this.endY);var p=i.getComponent("SangShi_BOSS");if(p){var f=r.default.waponBox.gjl+r.default.linshi.gjl;p.updatHp(2*f)}else(p=i.getComponent("SangShi_monsterA"))||(p=i.getComponent("SangShi_monster")),p&&(f=r.default.waponBox.gjl+r.default.linshi.gjl,p.updatHp(f));this.gamejs&&this.gamejs.daiji?this.node&&this.node.isValid&&this.node.destroy():this.node&&this.node.isValid&&s.default.getInstance().onBulletKilled(this.node);break}}}}}},a([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_freeJinbi:[function(e,t,n){"use strict";cc._RF.push(t,"d9807KyNthELLwj4TdhB49p","SangShi_freeJinbi");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../_script/AD"),s=e("../../_script/GxGame"),c=e("./SangShi_AudioMgr"),l=e("./SangShi_GameData"),u=cc._decorator.ccclass,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},t.prototype.clickAddJinBi=function(){var e=this;c.default.inst.playOneShot("sound/anniu"),r.default.showVideo(function(){cc.resources.load("SangShi_res/PreFab/UI/JB",cc.Prefab,function(t,n){if(t)console.error("\u52a0\u8f7d\u91d1\u5e01\u7279\u6548\u5931\u8d25:",t);else{var o=cc.instantiate(n);o.parent=cc.find("Canvas"),o.setPosition(0,0),e.scheduleOnce(function(){console.log("\u91d1\u5e01\u52a0500"),l.default.jb=l.default.jb-0+500,cc.sys.localStorage.setItem("jb",l.default.jb.toString());var e=cc.find("Canvas/Main");if(e){var t=e.getComponent("SangShi_Main");t&&(t.jbnum.string=l.default.jb.toString(),t.showInfo())}o.destroy()},1.5)}});try{s.default.gameEvent("click_video500_jb_end",{})}catch(t){console.error(t)}e.node.active=!1});try{s.default.gameEvent("click_video500_jb",{})}catch(t){console.error(t)}},t.prototype.close=function(){c.default.inst.playOneShot("sound/anniu"),this.node.active=!1},a([u],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_gameEnd:[function(e,t,n){"use strict";cc._RF.push(t,"a6feeTnzd5J64AGKlrZmS3u","SangShi_gameEnd");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("./SangShi_AudioMgr"),l=e("./SangShi_GameData"),u=e("../../_script/AD"),d=e("../../_script/GxGame"),p=cc._decorator,f=p.ccclass,h=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.xian=null,t.failImg=null,t.winNode=null,t.num=null,t.dian=null,t.video=null,t.ksNode=null,t.winImg=null,t.winLab=null,t.star=null,t.gamejs=null,t}return i(t,e),t.prototype.start=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}if(this.xian){var n=this.xian.getComponent(cc.Animation);n&&n.play()}this.gamejs&&this.num&&(this.num.string="X"+Math.floor(this.gamejs.gamejb)),"ks"===u.default.getChannel()&&l.default.ksgev?(this.ksNode&&(this.ksNode.active=!0),this.video&&(this.video.active=!0)):(this.ksNode&&(this.ksNode.active=!1),this.video&&(this.video.active=!1)),u.default.showChaPing(2),u.default.showBanner(),u.default.GameAllCeLue(4)},t.prototype.clickQuan=function(){this.dian&&(this.dian.active=!this.dian.active),this.video&&(this.video.active=!this.video.active)},t.prototype.showInfo=function(e){var t=this;if(void 0===e&&(e=""),"win"===e){if(this.failImg&&(this.failImg.active=!1),this.winNode){this.winNode.active=!0;var n=this.winNode.getComponent(cc.Animation);n&&(n.play("viotory_start"),n.once("finished",function(){n.play("viotory_idle"),n.once("finished",function(){n.play("viotory_start2"),n.once("finished",function(){n.play("viotory_idle2")},t)},t)},this)),cc.tween(this.winImg).to(.5,{opacity:255,scale:1.2},{easing:"backOut"}).to(.1,{scale:1},{easing:"sineOut"}).start(),cc.tween(this.winLab.node).delay(.2).to(.5,{opacity:255,scale:1.2},{easing:"backOut"}).to(.1,{scale:1},{easing:"sineOut"}).start(),cc.tween(this.star).delay(.1).to(.5,{opacity:255,scale:1.2},{easing:"backOut"}).to(.1,{scale:1},{easing:"sineOut"}).start()}cc.tween(this.node).delay(1).call(function(){t.endTryGame()}).start(),c.default.inst.playOneShot("sound/shengli")}else"fail"===e&&(this.winNode&&(this.winNode.active=!1),this.failImg&&(this.failImg.active=!0),c.default.inst.playOneShot("sound/shibai"))},t.prototype.endTryGame=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){cc.sys.platform===cc.sys.WECHAT_GAME&&(wx.notifyMiniProgramPlayableStatus({isEnd:!0}),e(!0))})];case 1:return e.sent(),[2]}})})},t.prototype.clickLingQu=function(){var e=this;c.default.inst.playOneShot("sound/anniu"),console.log("\u9886\u53d6"),"ks"===u.default.getChannel()&&l.default.ksgev&&this.video&&this.video.active?u.default.showVideo(function(){u.default.hideBanner(),e.gamejs&&(l.default.jb=Number(l.default.jb)+Math.floor(5*e.gamejs.gamejb),cc.sys.localStorage.setItem("jb",l.default.jb.toString())),e.returnMain()}):(u.default.hideBanner(),this.gamejs&&(l.default.jb=Number(l.default.jb)+Math.floor(this.gamejs.gamejb),cc.sys.localStorage.setItem("jb",l.default.jb.toString())),this.returnMain())},t.prototype.clickDuoBeiLingQu=function(){var e=this;c.default.inst.playOneShot("sound/anniu");var t=this.stopXian();u.default.showVideo(function(){u.default.hideBanner(),e.gamejs&&(l.default.jb=Number(l.default.jb)+Math.floor(e.gamejs.gamejb)*t,cc.sys.localStorage.setItem("jb",l.default.jb.toString())),e.returnMain();try{d.default.gameEvent("click_duobei_end",{})}catch(n){console.error(n)}});try{d.default.gameEvent("click_duobei",{})}catch(n){console.error(n)}},t.prototype.stopXian=function(){if(!this.xian)return 1;var e=this.xian.getComponent(cc.Animation);return e&&e.stop(),this.xian.x<=-19?2:this.xian.x<=124?3:this.xian.x<=217?4:this.xian.x<=280?5:1},t.prototype.returnMain=function(){c.default.inst.playOneShot("sound/anniu"),u.default.hideBanner(),this.scheduleOnce(function(){cc.director.loadScene("SangShi_Game")},.15)},a([h(cc.Node)],t.prototype,"xian",void 0),a([h(cc.Node)],t.prototype,"failImg",void 0),a([h(cc.Node)],t.prototype,"winNode",void 0),a([h(cc.Label)],t.prototype,"num",void 0),a([h(cc.Node)],t.prototype,"dian",void 0),a([h(cc.Node)],t.prototype,"video",void 0),a([h(cc.Node)],t.prototype,"ksNode",void 0),a([h(cc.Node)],t.prototype,"winImg",void 0),a([h(cc.Label)],t.prototype,"winLab",void 0),a([h(cc.Node)],t.prototype,"star",void 0),a([f],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_guangqiu:[function(e,t,n){"use strict";cc._RF.push(t,"76374svcOFExKrQc6ciEHEr","SangShi_guangqiu");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=cc._decorator.ccclass,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gamejs=null,t}return i(t,e),t.prototype.start=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}},t.prototype.onCollisionEnter=function(e,t){if("person"===e.node.name){if(r.default.inst.playOneShot("sound/zdst_1"),this.func(),this.gamejs&&this.gamejs.person){var n=this.gamejs.person.getComponent("SangShi_Person");n&&n.gain()}t.node.destroy()}},t.prototype.func=function(){},t.prototype.update=function(e){if(this.gamejs&&this.gamejs.gameEvent&&this.gamejs.person){var t=this.gamejs.person.position,n=cc.misc.lerp(this.node.position.x,t.x,3*e),o=cc.misc.lerp(this.node.position.y,t.y,3*e);this.node.position=cc.v2(n,o)}},a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./SangShi_AudioMgr":"SangShi_AudioMgr"}],SangShi_monsterA:[function(e,t,n){"use strict";cc._RF.push(t,"815bf0sXrxBV52EcN4PO6TW","SangShi_monsterA");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hpLabel=null,t._angle=0,t.gamejs=null,t.isdead=!1,t.HP=100,t.sortHp=0,t.spriteNode=null,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}this.spriteNode=this.node.getChildByName("BigMonsterAni")},t.prototype.start=function(){},t.prototype.show=function(e,t){this.HP=e,this.hpLabel.string=this.HP.toString(),this._angle=t,this.spriteNode&&(this.spriteNode.active=!0)},t.prototype.onCollisionEnter=function(e){this.isdead||"bullet"!==e.node.name||this.updatHp()},t.prototype.updatHp=function(){this.isdead||(this.HP--,this.HP<=0?this.deadFunc():this.hpLabel.string=this.HP.toString())},t.prototype.deadFunc=function(){var e=this;if(!this.isdead){this.isdead=!0,this.HP=0,r.default.inst.playOneShot("sound/zb_s2"),this.gamejs&&(this.gamejs.gamejb+=50);var t=this.node.getChildByName("skeleton");t&&(t.active=!1);var n=this.node.getChildByName("HP");n&&(n.active=!1),this.spriteNode&&(this.spriteNode.active=!1),this.node.zIndex=1;var o=this.node.getComponent(cc.BoxCollider);o&&(o.enabled=!1),this.scheduleOnce(function(){e.node&&e.node.isValid&&(e.node.destroy(),e.gamejs&&(e.gamejs.isdelgw++,e.gamejs.win()))},1)}},t.prototype.update=function(){if(this.gamejs&&this.gamejs.gameEvent&&!this.isdead){var e=this.node.getChildByName("skeleton");if(this.node.y<-200&&e){var t=e.getComponent(sp.Skeleton);t&&"attack"!==t.animation&&t.setAnimation(0,"attack",!0)}var n=-(this._angle-180)*Math.PI/180;this.node.x+=1*Math.sin(n),this.node.y+=1*Math.cos(n),this.node.scale=1+.00027777778*(640-this.node.y),this.node.zIndex=-(this.node.y-640),this.node.y<-640&&this.node.destroy()}},a([l(cc.Label)],t.prototype,"hpLabel",void 0),a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./SangShi_AudioMgr":"SangShi_AudioMgr"}],SangShi_monster:[function(e,t,n){"use strict";cc._RF.push(t,"9d5afZwBVNBf59Ytac9NY7e","SangShi_monster");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_ObjectPool"),s=e("./SangShi_AudioMgr"),c=e("./SangShi_GameData"),l=e("../../_script/AD"),u=cc._decorator.ccclass,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._angle=0,t.gamejs=null,t.HP=1,t.isdead=!1,t.loadzidan=!1,t.swContent=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onEnable=function(){var e=cc.find("Canvas");if(e){var t=e.getChildByName("Game");t&&(this.gamejs=t.getComponent("SangShi_Game"))}var n=this.node.getComponent(sp.Skeleton);n&&n.setAnimation(0,"walk",!0),this.isdead=!1,this.HP=1,this.loadzidan=!1;var o=this.node.getComponent(cc.BoxCollider);o&&(o.enabled=!1),this.swContent=cc.find("Canvas/swContent")},t.prototype.start=function(){},t.prototype.onCollisionEnter=function(e){this.isdead||"bullet"!==e.node.name||this.updatHp()},t.prototype.updatHp=function(){this.isdead||(this.HP--,this.HP<=0&&this.deadFunc())},t.prototype.deadFunc=function(){if(!this.isdead){this.isdead=!0;var e=this.node.getComponent(cc.BoxCollider);e&&(e.enabled=!1),c.default.gwEnabledNumnber--,!l.default.isbaibao&&this.swContent&&r.default.getInstance().createSiwang(this.swContent,this.node.x,this.node.y,this.node.scaleX),s.default.inst.playOneShot("sound/zb_s1",.5),this.gamejs&&(this.gamejs.gamejb+=.1,this.gamejs.isdelgw++,this.gamejs.win()),r.default.getInstance().onEnemyKilled(this.node)}},t.prototype.update=function(e){if(!this.isdead&&this.gamejs)if(this.gamejs.daiji){if((i=this.node.getComponent(cc.BoxCollider))&&(i.enabled=!0),this.gamejs.person){var t=this.gamejs.person.position,n=cc.misc.lerp(this.node.position.x,t.x,.1*e),o=cc.misc.lerp(this.node.position.y,t.y,.1*e);this.node.position=cc.v2(n,o),this.node.position.y<=440&&!this.loadzidan&&(this.loadzidan=!0,this.gamejs.daijizidan())}}else if(this.gamejs.gameEvent){var i=this.node.getComponent(cc.BoxCollider);if(this.node.y<0)i&&(i.enabled=!0);else{var a=c.default.waponBox.gjjl+c.default.linshi.gjjl;this.node.y-260<a&&c.default.gwEnabledNumnber<=30&&i&&!i.enabled&&(c.default.gwEnabledNumnber++,i.enabled=!0)}var s=this.node.getComponent(sp.Skeleton);this.node.y<-200&&s&&"attack"!==s.animation&&s.setAnimation(0,"attack",!0);var l=-(this._angle-180)*Math.PI/180;if(this.node.x+=2*Math.sin(l),this.node.y+=2*Math.cos(l),this.node.scale=.3+.00027777778*(640-this.node.y),this.node.zIndex=-(this.node.y-640),this.node.y<-640){var u=this.node.getComponent(cc.BoxCollider);u&&(u.enabled=!1),c.default.gwEnabledNumnber--,r.default.getInstance().onEnemyKilled(this.node)}}},a([u],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../_script/AD":"AD","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData","./SangShi_ObjectPool":"SangShi_ObjectPool"}],SangShi_online:[function(e,t,n){"use strict";cc._RF.push(t,"32b51wnvrRCc7du6tBBaJhH","SangShi_online");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../_script/AD"),s=e("../../_script/GxGame"),c=e("./SangShi_AudioMgr"),l=e("./SangShi_GameData"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.num=null,t}return i(t,e),t.prototype.start=function(){r.default.GameAllCeLue(5),this.num.string=l.default.beingjb.toString(),l.default.beingjb-=Number(this.num.string),r.default.showChaPing(1),r.default.showBanner()},t.prototype.lingqu=function(){var e=this;c.default.inst.playOneShot("sound/anniu"),cc.resources.load("SangShi_res/PreFab/UI/JB",cc.Prefab,function(t,n){var o=cc.instantiate(n);o.parent=cc.find("Canvas"),o.setPosition(0,0),e.scheduleOnce(function(){s.default.gameEvent("online_jb"+Number(e.num.string),{}),l.default.jb=l.default.jb-0+Number(e.num.string),cc.sys.localStorage.setItem("jb",l.default.jb.toString());var t=cc.find("Canvas/Main");if(t){var n=t.getComponent("SangShi_Main");n&&(n.jbnum.string=l.default.jb.toString(),n.showInfo())}o.destroy(),r.default.hideBanner(),e.node.destroy()},1.5)}),s.default.gameEvent("click_online_one",{})},t.prototype.twolingqu=function(){var e=this;c.default.inst.playOneShot("sound/anniu"),r.default.showVideo(function(){cc.resources.load("SangShi_res/PreFab/UI/JB",cc.Prefab,function(t,n){var o=cc.instantiate(n);o.parent=cc.find("Canvas"),o.setPosition(0,0),e.scheduleOnce(function(){s.default.gameEvent("online_jb"+(Number(e.num.string)+Number(e.num.string)),{}),l.default.jb=l.default.jb-0+Number(e.num.string)+Number(e.num.string),cc.sys.localStorage.setItem("jb",l.default.jb.toString());var t=cc.find("Canvas/Main");if(t){var n=t.getComponent("SangShi_Main");n&&(n.jbnum.string=l.default.jb.toString(),n.showInfo())}o.destroy(),r.default.hideBanner(),e.node.destroy()},1.5)}),s.default.gameEvent("click_online_two_end",{})}),s.default.gameEvent("click_online_two",{})},a([p(cc.Label)],t.prototype,"num",void 0),a([d],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}],SangShi_sgin:[function(e,t,n){"use strict";cc._RF.push(t,"0be048Aj7VG6LysRodApSpb","SangShi_sgin");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./SangShi_AudioMgr"),s=e("./SangShi_GameData"),c=e("../../_script/AD"),l=e("../../_script/GxGame"),u=cc._decorator,d=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.day="",t.gamejs=null,t}return i(t,e),t.prototype.start=function(){var e=cc.find("Canvas");e&&(this.gamejs=e.getComponent("SangShi_Main"))},t.prototype.show=function(){c.default.GameAllCeLue(5);var e=this.node.getChildByName("bg");if(e){var t=e.getChildByName("9");if(t)if(""===s.default.sginData.sgintime&&0===s.default.sginData.sginDay)(n=t.children[s.default.sginData.sginDay])&&(o=n.getChildByName("di"))&&(o.active=!0);else if(s.default.sginData.sgintime!==s.default.getDate()){var n,o;this.showEnd(1),(n=t.children[s.default.sginData.sginDay])&&(o=n.getChildByName("di"))&&(o.active=!0)}else s.default.sginData.sgintime===s.default.getDate()&&this.showEnd(2)}},t.prototype.showEnd=function(e){var t=this.node.getChildByName("bg");if(t){var n=t.getChildByName("9");if(n){for(var o=0;o<s.default.sginData.sginDay;o++){var i=n.children[o];if(i){var a=i.getChildByName("di"),r=i.getChildByName("end");a&&(a.active=!1),r&&(r.active=!0)}}var c=this.node.getChildByName("anniu1"),l=this.node.getChildByName("anniu2");1===e?(c&&(c.active=!0),l&&(l.active=!0)):2===e&&(c&&(c.active=!1),l&&(l.active=!1))}}},t.prototype.onClickReceive=function(){r.default.inst.playOneShot("sound/anniu"),l.default.gameEvent("click_sgin_"+s.default.sginData.sginDay,{}),s.default.sginData.sgintime=s.default.getDate(),s.default.sginData.sginDay++,cc.sys.localStorage.setItem("sginData",JSON.stringify(s.default.sginData)),this.showEnd(2),this.showjiangli(1),l.default.gameEvent("click_sgin_one",{})},t.prototype.onClickTwoReceive=function(){var e=this;r.default.inst.playOneShot("sound/anniu"),c.default.showVideo(function(){l.default.gameEvent("click_sgin_"+s.default.sginData.sginDay,{}),s.default.sginData.sgintime=s.default.getDate(),s.default.sginData.sginDay++,cc.sys.localStorage.setItem("sginData",JSON.stringify(s.default.sginData)),e.showEnd(2),e.showjiangli(2),l.default.gameEvent("click_sgin_two_end",{})}),l.default.gameEvent("click_sgin_two",{})},t.prototype.showjiangli=function(e){var t=this;void 0===e&&(e=1);var n=s.default.sginRewardArr[s.default.sginData.sginDay-1]*e;cc.resources.load("SangShi_res/PreFab/UI/JB",cc.Prefab,function(e,o){var i=cc.instantiate(o);i.parent=cc.find("Canvas"),i.setPosition(0,0),t.scheduleOnce(function(){s.default.jb=s.default.jb-0+Number(n),cc.sys.localStorage.setItem("jb",s.default.jb.toString());var e=cc.find("Canvas/Main");if(e){var t=e.getComponent("SangShi_Main");t&&(t.jbnum.string=s.default.jb.toString())}i.destroy()},1.5)})},t.prototype.close=function(){this.node.active=!1;var e=cc.find("Canvas/Main");if(e){var t=e.getComponent("SangShi_Main");t&&t.showInfo()}r.default.inst.playOneShot("sound/anniu")},t.prototype.closejiangli=function(e){e.target.parent&&(e.target.parent.active=!1),r.default.inst.playOneShot("sound/anniu")},a([d],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../../_script/AD":"AD","../../_script/GxGame":"GxGame","./SangShi_AudioMgr":"SangShi_AudioMgr","./SangShi_GameData":"SangShi_GameData"}]},{},["FrameAni","N_GameCfg","SangShi_AudioMgr","SangShi_BOSS","SangShi_Buff","SangShi_DaZhao","SangShi_Game","SangShi_GameData","SangShi_LoadBullet","SangShi_Main","SangShi_ObjectPool","SangShi_Person","SangShi_Setting","SangShi_TurntableUI","SangShi_XuanXiang","SangShi_XuanXiang2","SangShi_boss1","SangShi_bullet","SangShi_freeJinbi","SangShi_gameEnd","SangShi_guangqiu","SangShi_monster","SangShi_monsterA","SangShi_online","SangShi_sgin","AD","BaseAdapter","BaseGxConstant","BaseGxGame","DataStorage","GxAdParams","GxChecker","GxConstant","GxEnum","GxFirstScene","GxGame","GxLog","GxTimer","GxUtils","Gx_toast","ResUtil","SangShi_Loading"]);